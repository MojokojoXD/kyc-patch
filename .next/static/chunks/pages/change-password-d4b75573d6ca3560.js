(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[58],{5896:(e,r,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/change-password",function(){return a(1343)}])},1129:(e,r,a)=>{"use strict";a.d(r,{A:()=>h});var s=a(4848),t=a(6540),l=a(53),n=a(4439),i=a(9785),c=a(4667),o=a(6977),d=a(3943);let u=(0,d.A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),p=(0,d.A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var m=a(6094);function h(e){let{label:r,name:a,placeholder:d,defaultValue:h="",readonly:x=!1,rules:f,componentProps:v={isCurrency:!1}}=e,{control:g}=(0,i.xW)(),[w,j]=(0,t.useState)(!1);return(0,s.jsx)(i.xI,{name:a,control:g,defaultValue:h,rules:f||{},render:e=>{var a,t,i;let{field:h,fieldState:f}=e;return(0,s.jsxs)(n.eI,{className:"space-y-2 mr-1",children:[(0,s.jsx)(n.lR,{className:(0,m.cn)(null==v?void 0:null===(a=v.classNames)||void 0===a?void 0:a.labelStyles,f.error?"text-error-500":void 0),children:r}),(0,s.jsx)(n.MJ,{children:(0,s.jsxs)("div",{className:"relative flex items-center",children:[(0,s.jsx)(l.p,{...h,type:w?"text":"password",disabled:x,onChange:e=>{let r=e.target.value;(null==v?void 0:v.isCurrency)&&!Number.isNaN(parseInt(r))&&(r=r.replace(/,/g,""),r=c.k.currencyInputFormatter(r),h.onChange(r)),h.onChange(r)},placeholder:d,className:"disabled:hover:border-neutral-200"}),(0,s.jsx)(o.$,{size:"sm",type:"button",variant:"ghost",className:"absolute right-2 text-neutral-400",onClick:()=>j(e=>!e),children:w?(0,s.jsx)(u,{}):(0,s.jsx)(p,{})})]})}),(0,s.jsx)(n.C5,{position:null==v?void 0:null===(t=v.classNames)||void 0===t?void 0:t.errorPosition,children:null===(i=f.error)||void 0===i?void 0:i.message})]})}})}},2975:(e,r,a)=>{"use strict";a.d(r,{nB:()=>m,wi:()=>h,Y9:()=>p,PE:()=>d,gZ:()=>u});var s=a(4848),t=a(9965),l=a.n(t),n=a(1106),i=a.n(n);let c={src:"/_next/static/media/logo-mini.a71f997c.png",height:56,width:57,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAM1BMVEUdVokpKSkJaqsHcrgqKScKZ6UFdL0iNEUFbrQFcbgoKiopKSkPWIkTVoMiNkUTVYIqKipCdqcLAAAAEXRSTlMBLpeBcB5cDT5vfWJignWPHrMunBgAAAAJcEhZcwAACxMAAAsTAQCanBgAAAA4SURBVHicRYo5EsAgDMQEGNYmB/n/azMeCtRIheAgLqWLfVYEmu80uwd9tfpUB48RLXpOznam4Aci2AEEBiuQFQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8};var o=a(6094);function d(e){let{children:r}=e;return(0,s.jsx)("main",{className:"min-h-screen flex justify-center items-center py-24 bg-neutral-50",children:r})}function u(e){let{children:r,noLogo:a=!1}=e;return(0,s.jsxs)("div",{className:"relative w-[508px] bg-white p-[24px] space-y-[32px] rounded-xl shadow-sm border border-neutral-50 text-neutral-700",children:[(0,s.jsx)("div",{className:(0,o.cn)("relative h-[56px] w-[57px]",a&&"hidden"),children:(0,s.jsx)(i(),{href:"/",children:(0,s.jsx)(l(),{src:c,fill:!0,alt:"secondstax mini logo",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"})})}),r]})}function p(e){let{title:r="",tagline:a=""}=e;return(0,s.jsxs)("div",{className:"space-y-[8px]",children:[(0,s.jsx)("h1",{className:"heading5Bold",children:r}),(0,s.jsx)("p",{className:"paragraph2Regular text-neutral-500",children:a})]})}function m(e){let{children:r,error:a=""}=e;return(0,s.jsxs)("div",{className:"space-y-[8px]",children:[r,a&&(0,s.jsx)("p",{className:"paragraph2Regular text-error-500",children:a})]})}function h(e){let{children:r,className:a}=e;return(0,s.jsx)("div",{className:(0,o.cn)("flex justify-between",a),children:r})}},1325:(e,r,a)=>{"use strict";a.d(r,{k:()=>t});var s=a(4848);function t(e){let{headingText:r="",subText:a=""}=e;return(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center gap-[8px] w-full mb-[8px]",children:[(0,s.jsx)("span",{className:"mb-[8px]",children:(0,s.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"animate-[rtte_0.4s_ease-out]",children:[(0,s.jsxs)("g",{clipPath:"url(#clip0_400_1996)",children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.181 8.068C30.781 8.023 31.388 8 32 8C45.246 8 56 18.754 56 32C56 45.246 45.246 56 32 56C18.754 56 8 45.246 8 32C8 31.388 8.02299 30.781 8.06799 30.181C8.92399 40.71 17.751 49 28.5 49C39.814 49 49 39.814 49 28.5C49 17.751 40.71 8.924 30.181 8.068Z",fill:"#D1FEE8"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47.5564 47.5561C38.971 56.1415 25.0297 56.1415 16.4443 47.5561C7.85886 38.9707 7.85888 25.0294 16.4443 16.444C25.0297 7.85854 38.971 7.85853 47.5564 16.4439C54.3243 23.2118 55.7583 33.3076 51.8559 41.4848C51.3799 42.4819 51.8033 43.6758 52.7986 44.1518C53.7948 44.627 54.9904 44.2035 55.4656 43.2074C60.0765 33.5443 58.3836 21.6132 50.3854 13.615C40.2387 3.46826 23.762 3.46825 13.6153 13.6149C3.46858 23.7616 3.46859 40.2384 13.6153 50.3851C23.762 60.5318 40.2387 60.5318 50.3854 50.3851C51.166 49.6044 51.166 48.3367 50.3854 47.5561C49.6048 46.7754 48.3371 46.7754 47.5564 47.5561Z",fill:"#06BA63"}),(0,s.jsx)("g",{clipPath:"url(#clip1_400_1996)",className:"animate-[cm_0.3s_ease-out]",children:(0,s.jsx)("path",{d:"M38.7099 27.2099C38.617 27.1161 38.5064 27.0417 38.3845 26.991C38.2627 26.9402 38.132 26.9141 37.9999 26.9141C37.8679 26.9141 37.7372 26.9402 37.6154 26.991C37.4935 27.0417 37.3829 27.1161 37.29 27.2099L29.84 34.6699L26.7099 31.5299C26.6134 31.4366 26.4995 31.3633 26.3746 31.3141C26.2498 31.2649 26.1165 31.2408 25.9823 31.2431C25.8481 31.2454 25.7157 31.2741 25.5926 31.3276C25.4695 31.3811 25.3582 31.4583 25.2649 31.5549C25.1717 31.6514 25.0984 31.7653 25.0492 31.8902C25 32.015 24.9759 32.1484 24.9782 32.2825C24.9805 32.4167 25.0092 32.5491 25.0627 32.6722C25.1162 32.7953 25.1934 32.9066 25.2899 32.9999L29.13 36.8399C29.2229 36.9336 29.3335 37.008 29.4554 37.0588C29.5772 37.1095 29.7079 37.1357 29.84 37.1357C29.972 37.1357 30.1027 37.1095 30.2245 37.0588C30.3464 37.008 30.457 36.9336 30.55 36.8399L38.7099 28.6799C38.8115 28.5862 38.8925 28.4726 38.9479 28.3461C39.0033 28.2196 39.0319 28.083 39.0319 27.9449C39.0319 27.8068 39.0033 27.6702 38.9479 27.5437C38.8925 27.4172 38.8115 27.3035 38.7099 27.2099V27.2099Z",fill:"#06BA63"})})]}),(0,s.jsxs)("defs",{children:[(0,s.jsx)("clipPath",{id:"clip0_400_1996",children:(0,s.jsx)("rect",{width:"64",height:"64",fill:"white"})}),(0,s.jsx)("clipPath",{id:"clip1_400_1996",children:(0,s.jsx)("rect",{width:"24",height:"24",fill:"white",transform:"translate(20 20)"})})]})]})}),(0,s.jsxs)("div",{className:"space-y-[8px] text-neutral-700 text-center pb-[8px]",children:[(0,s.jsx)("p",{className:"paragraph3Medium",children:r}),(0,s.jsx)("p",{className:"paragraph2Regular",children:a})]})]})}},1556:(e,r,a)=>{"use strict";a.d(r,{k:()=>i});var s=a(4848),t=a(6540),l=a(6669),n=a(6094);let i=t.forwardRef((e,r)=>{let{className:a,value:t,indicatorStyle:i="",...c}=e;return(0,s.jsx)(l.bL,{ref:r,className:(0,n.cn)("relative h-2 w-full overflow-hidden rounded-full bg-neutral-100",a),...c,children:(0,s.jsx)(l.C1,{className:(0,n.cn)("h-full w-full flex-1 bg-success-500 transition-all",i),style:{transform:"translateX(-".concat(100-(t||0),"%)")}})})});i.displayName=l.bL.displayName},1343:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>j});var s=a(4848),t=a(6540),l=a(4335),n=a(9785),i=a(7761),c=a.n(i),o=a(4439),d=a(740),u=a(1129),p=a(6977),m=a(1325),h=a(6715);let x=(0,a(3943).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var f=a(1556),v=a(6094),g=a(2975),w=function(e){return e[e.Form=0]="Form",e[e.Success=1]="Success",e}(w||{});let j=()=>{let e=(0,h.useRouter)(),r=(0,n.mN)({defaultValues:{email:"",newPwd:"",verificationCode:""},reValidateMode:"onChange"}),{handleSubmit:a,watch:i}=r,[w,j]=(0,t.useState)(!1),[C,N]=(0,t.useState)(""),[A,b]=(0,t.useState)(0),y=i("newPwd"),P={"A minimum of 8 characters":y.length>=8?10:0,"One lowercase letter":/[a-z]/.test(y)?10:0,"One uppercase letter":/[A-Z]/.test(y)?10:0,"One number":/\d/.test(y)?10:0,"One special character":/\W/.test(y)?10:0},E=Object.values(P).reduce((e,r)=>e+r)/50*100,_=async e=>{j(!0);let r={usrEmail:e.email,usrVerifyCode:e.verificationCode,usrNewPwd:e.newPwd,usrConfPwd:e.newPwd};try{let e=await l.A.post("/api/change-password",r);if(200!==e.status)throw Error("Network response failed with status ".concat(e.status));if("SUCC"===e.data.Status){b(1);return}throw Error(e.data.Message,{cause:"ssx-failure"})}catch(e){if(e instanceof Error&&"ssx-failure"===e.cause){N(e.message);return}console.log(e),N("Unable to complete request. Please try again later!")}finally{j(!1)}};switch(A){case 0:return(0,s.jsx)(g.PE,{children:(0,s.jsx)(o.lV,{...r,children:(0,s.jsx)("form",{onSubmit:a(_),children:(0,s.jsxs)(g.gZ,{children:[(0,s.jsx)(g.Y9,{title:"Reset you password",tagline:"Almost done. Enter your new password and we're good to go."}),(0,s.jsxs)(g.nB,{error:C,children:[(0,s.jsx)(d.A,{name:"email",componentProps:{classNames:{errorPosition:"relative"}},label:"",placeholder:"Enter email",rules:{required:"Please enter email",validate:e=>c().isEmail(e)||"Email must be of the format: name@example.com"}}),(0,s.jsx)(d.A,{label:"",componentProps:{classNames:{errorPosition:"relative"}},placeholder:"Enter verification code",name:"verificationCode",rules:{required:"Please enter verification code"}}),(0,s.jsx)(u.A,{label:"",componentProps:{classNames:{errorPosition:"relative"}},placeholder:"Enter new password",name:"newPwd",rules:{required:"Please enter new password",validate:{noSpace:e=>!/\s/g.test(e)||"Password cannot contain spaces",pwdStrength:e=>c().isStrongPassword(e,{pointsPerRepeat:0,pointsPerUnique:0})||"Password is not strong enough"}}})]}),(0,s.jsx)(f.k,{max:50,value:E,className:"h-1.5",indicatorStyle:(0,v.cn)(E<30?"bg-error-500":E<100?"bg-warning-500":"bg-success-500")}),(0,s.jsx)("div",{className:"space-y-[8px]",children:Object.keys(P).map(e=>(0,s.jsxs)("p",{className:"paragraph2Regular flex items-center",children:[(0,s.jsx)("span",{className:"mr-1.5",children:(0,s.jsx)(x,{className:(0,v.cn)("text-white",P[e]>0?"fill-success-500":"fill-neutral-300")})}),e]},e))}),(0,s.jsxs)(g.wi,{className:"justify-end space-x-[8px]",children:[(0,s.jsx)(p.$,{type:"button",variant:"outline",onClick:()=>e.replace("/"),children:"Cancel"}),(0,s.jsx)(p.$,{disabled:w,children:"Save Password"})]})]})})})});case 1:return(0,s.jsx)(g.PE,{children:(0,s.jsxs)(g.gZ,{noLogo:!0,children:[(0,s.jsx)(g.Y9,{}),(0,s.jsx)(g.nB,{children:(0,s.jsx)(m.k,{headingText:"Password reset successfully",subText:"Your password has been updated and is secure.   You can now login again"})}),(0,s.jsx)(g.wi,{children:(0,s.jsx)(p.$,{onClick:()=>e.replace("/"),className:"mx-auto",children:"Back to login"})})]})});default:return null}}},2133:(e,r,a)=>{"use strict";a.d(r,{A:()=>l});var s=a(6540),t=a(4848);function l(e,r=[]){let a=[],n=()=>{let r=a.map(e=>s.createContext(e));return function(a){let t=a?.[e]||r;return s.useMemo(()=>({[`__scope${e}`]:{...a,[e]:t}}),[a,t])}};return n.scopeName=e,[function(r,l){let n=s.createContext(l),i=a.length;function c(r){let{scope:a,children:l,...c}=r,o=a?.[e][i]||n,d=s.useMemo(()=>c,Object.values(c));return(0,t.jsx)(o.Provider,{value:d,children:l})}return a=[...a,l],c.displayName=r+"Provider",[c,function(a,t){let c=t?.[e][i]||n,o=s.useContext(c);if(o)return o;if(void 0!==l)return l;throw Error(`\`${a}\` must be used within \`${r}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let t=a.reduce((r,{useScope:a,scopeName:s})=>{let t=a(e)[`__scope${s}`];return{...r,...t}},{});return s.useMemo(()=>({[`__scope${r.scopeName}`]:t}),[t])}};return a.scopeName=r.scopeName,a}(n,...r)]}},6669:(e,r,a)=>{"use strict";a.d(r,{C1:()=>C,bL:()=>j});var s=a(6540),t=a(2133),l=a(2579),n=a(4848),i="Progress",[c,o]=(0,t.A)(i),[d,u]=c(i),p=s.forwardRef((e,r)=>{var a,s;let{__scopeProgress:t,value:i=null,max:c,getValueLabel:o=x,...u}=e;(c||0===c)&&!g(c)&&console.error((a=`${c}`,`Invalid prop \`max\` of value \`${a}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let p=g(c)?c:100;null===i||w(i,p)||console.error((s=`${i}`,`Invalid prop \`value\` of value \`${s}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let m=w(i,p)?i:null,h=v(m)?o(m,p):void 0;return(0,n.jsx)(d,{scope:t,value:m,max:p,children:(0,n.jsx)(l.sG.div,{"aria-valuemax":p,"aria-valuemin":0,"aria-valuenow":v(m)?m:void 0,"aria-valuetext":h,role:"progressbar","data-state":f(m,p),"data-value":m??void 0,"data-max":p,...u,ref:r})})});p.displayName=i;var m="ProgressIndicator",h=s.forwardRef((e,r)=>{let{__scopeProgress:a,...s}=e,t=u(m,a);return(0,n.jsx)(l.sG.div,{"data-state":f(t.value,t.max),"data-value":t.value??void 0,"data-max":t.max,...s,ref:r})});function x(e,r){return`${Math.round(e/r*100)}%`}function f(e,r){return null==e?"indeterminate":e===r?"complete":"loading"}function v(e){return"number"==typeof e}function g(e){return v(e)&&!isNaN(e)&&e>0}function w(e,r){return v(e)&&!isNaN(e)&&e<=r&&e>=0}h.displayName=m;var j=p,C=h}},e=>{var r=r=>e(e.s=r);e.O(0,[648,376,106,536,636,593,792],()=>r(5896)),_N_E=e.O()}]);