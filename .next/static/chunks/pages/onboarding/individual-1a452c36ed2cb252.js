(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[407],{2296:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/onboarding/individual",function(){return t(8324)}])},8324:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>e2});var n=t(4848),l=t(3368),i=t.n(l),r=t(6715),s=t(6540),o=t(4439),c=t(8043),d=t(7659);let p=e=>{let{index:a}=e;return[{fieldType:"signature",name:"applicant.".concat(a,".disclosures.signatureResource"),label:"Signature",rules:{required:"Please upload your signature"},componentProps:{indexer:a}}]};var m=t(4192),u=t(7321);let f=()=>{let{form:{getValues:e}}=(0,u.kC)(),a=e("applicant")||[{}];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.Mo,{children:[(0,n.jsx)(d.zE,{children:"Signature Upload"}),(0,n.jsx)(d.md,{children:"Enter the required information below"})]}),(0,n.jsx)(d.sf,{children:(0,n.jsx)("div",{className:"space-y-[8px] py-5",children:a.map((e,a)=>(0,n.jsx)(c.nD,{type:"single",defaultValue:"item-0",collapsible:!0,children:(0,n.jsxs)(c.As,{value:"item-".concat(a),children:[(0,n.jsxs)(c.$m,{children:["Applicant #",a+1,": ",e.firstName," ",e.lastName]}),(0,n.jsx)(c.ub,{className:"data-[state=closed]:hidden",forceMount:!0,children:(0,n.jsx)(h,{applicantId:a})})]})},e.id))})})]})};function h(e){let{applicantId:a}=e,t=(0,s.useMemo)(()=>p({index:a}),[a]);return(0,n.jsx)(n.Fragment,{children:t.map(e=>(0,n.jsx)(m.A,{...e},e.name))})}var y=t(6977),x=t(53);let b=()=>{let{form:{getValues:e},formAction:a}=(0,u.kC)(),t=e("applicant")||[{}];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Mo,{children:(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)(d.zE,{children:"Illiterate/Blind Customer Ratification"}),(0,n.jsx)(y.$,{variant:"outline",onClick:()=>a({type:"next"}),children:"Skip"})]})}),(0,n.jsx)(d.sf,{children:(0,n.jsx)("div",{className:"space-y-[8px] py-5",children:t.map((e,a)=>{let{firstName:t,middleName:l,lastName:i}=e,r="".concat(null!=t?t:""," ").concat(null!=l?l:""," ").concat(null!=i?i:"");return(0,n.jsx)(c.nD,{type:"single",defaultValue:"item-0",collapsible:!0,children:(0,n.jsxs)(c.As,{value:"item-".concat(a),children:[(0,n.jsxs)(c.$m,{children:["Applicant #",a+1,": ",e.firstName," ",e.lastName]}),(0,n.jsx)(c.ub,{className:"data-[state=closed]:hidden",forceMount:!0,children:(0,n.jsx)(g,{applicantId:a,fullName:r})})]})},e.id)})})})]})};function g(e){let{applicantId:a,fullName:t=""}=e,{form:{register:l}}=(0,u.kC)();return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"py-4 pl-4 bg-neutral-50 border border-neutral-100 rounded-lg space-y-[12px] text-neutral-700",children:[(0,n.jsxs)("p",{className:"paragraph3Medium text-base",children:["Illiterate/Blind Customer Ratification ",(0,n.jsx)("br",{})]}),(0,n.jsxs)("p",{className:"paragraph2Regular text-base leading-10",children:["I,"," ",(0,n.jsx)(x.p,{...l("applicant.".concat(a,".disclosures.ratification.nameOfDeclarant")),className:"inline w-[219px] mt-2.5 mx-[12px]",placeholder:"Name of Declarant"})," ","hereby declare that, I read and explained the contents of this document to"," ",(0,n.jsx)(x.p,{className:"inline mt-2.5 mx-[12px] w-[219px] focus-visible:border-neutral-200 text-neutral-700 pointer-events-none",value:t,readOnly:!0})," ","in a language of his/her undertsanding which is"," ",(0,n.jsx)(x.p,{...l("applicant.".concat(a,".disclosures.ratification.languageOfUnderstanding")),className:"inline w-[219px] mt-2.5 mx-[12px]",placeholder:"Indicate Language"})," ","and"," ",(0,n.jsx)(x.p,{className:"inline w-[219px] focus-visible:border-neutral-200 text-neutral-700 mt-2.5 mx-[12px] pointer-events-none",value:t,readOnly:!0})," ","understood and approved of the contents before appending his/her signature below and executing the form."]})]})})})}var j=t(4379);let N=e=>{let{index:a}=e;return[{fieldType:"radio",name:"applicant.".concat(a,".disclosures.pepInfo.isPep"),label:"Having read and understood the above definition please confirm if you, or any of your directors, authorised persons, shareholders or beneficial owners are a PEP?",rules:{required:"Select option"},options:{keys:["Yes","No"]},componentProps:{classNames:{radioGroupStyles:"grid grid-cols-2 gap-[4px]"}}},{fieldType:"text",name:"applicant.".concat(a,".disclosures.pepInfo.pepDetails.desc"),label:"If Yes, Please Specify How",placeholder:"specify how",rules:{required:"Please specify how"},tags:["remove-all-except"]},{fieldType:"dropdown",name:"applicant.".concat(a,".disclosures.pepInfo.pepDetails.country"),label:"In which country",placeholder:"Select country",rules:{required:"Please select country"},componentProps:{isCountryList:!0},tags:["remove-all-except"]}]};var v=t(7589),P=t(2327),T=t(7670);let A=()=>{let{form:{getValues:e}}=(0,u.kC)(),[a,t,l]=(0,T.n)("pep"),i=e("applicant")||[{}];return l?(console.error(l),(0,n.jsx)("p",{className:"p-10",children:"Failed to load resource. Please try again later!"})):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Mo,{children:(0,n.jsx)(d.zE,{children:"Politically Exposed Person (PEP) Self-Certification"})}),(0,n.jsx)(d.sf,{children:(0,n.jsx)("div",{className:"space-y-10 py-5",children:i.map((e,l)=>(0,n.jsx)(c.nD,{type:"single",defaultValue:"item-0",collapsible:!0,children:(0,n.jsxs)(c.As,{value:"item-".concat(l),children:[(0,n.jsxs)(c.$m,{children:["Applicant #",l+1,": ",e.firstName," ",e.lastName]}),(0,n.jsx)(c.ub,{className:"data-[state=closed]:hidden pb-16",forceMount:!0,children:(0,n.jsx)(k,{applicantId:l,pepText:a,isLoading:t})})]})},e.id))})})]})};function k(e){let{applicantId:a,pepText:t,isLoading:l}=e,{form:{watch:i,resetField:r}}=(0,u.kC)(),o=i("applicant.".concat(a,".disclosures.pepInfo.isPep")),c=(0,s.useMemo)(()=>{let e=N({index:a}),t=new v.C(e);return t.modifyFields("remove-all-except",{remove:"No"===o||!o,required:"Yes"===o}),"No"===o&&r("applicant.".concat(a,".disclosures.pepInfo.pepDetails"),{defaultValue:{desc:"",country:""}}),t.generate()},[a,o,r]);return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"space-y-10",children:[(0,n.jsx)(d.ay,{className:"max-h-96 overflow-auto [&>ul_ol]:list-[lower-alpha]",children:l?(0,n.jsx)(j.q,{}):(0,n.jsx)(P.o,{children:t})}),(0,n.jsx)("div",{className:"space-y-11",children:c.map(e=>(0,n.jsx)(m.A,{...e},e.name))})]})})}var E=t(7761),S=t.n(E);let C=e=>{let{index:a}=e;return[{fieldType:"checkbox",name:"applicant.".concat(a,".disclosures.fatca.status"),label:"FATCA Status",options:{keys:["Were you born in the United States of America (USA)?","Are you a U.S Citizen?","Are you a U.S Permanent Resident (Green Card holder)?","Are you a U.S Resident?","Do you have a US residential or correspondence address?"," Do you have a US Telephone number?","Have you issued standing instructions to transfer funds to an account with a US address?","Have you given Power of Attorney or Signature Authority to a person with a US address?","Do you have a correspondance, c/o or hold mail address in U.S?"]},componentProps:{classNames:{toggleStyles:"text-base",boxGroupStyles:"gap-4"}},tags:["remove-all-except"]},{fieldType:"text",name:"applicant.".concat(a,".disclosures.fatca.details.ownership"),label:"Ownership (%)",placeholder:"Enter ownership",rules:{required:"Please enter ownership",validate:{isNumber:e=>S().isNumeric(e)||"Entry must be a number",isWithinRange:e=>parseInt(e)>=0&&100>=parseInt(e)||"Ownership must be between 0 and 100%"}}},{fieldType:"text",inline:!0,name:"applicant.".concat(a,".disclosures.fatca.details.firstName"),label:"Full Name",rules:{required:"Please enter first name",validate:e=>e.length>1||"entry is too short"},placeholder:"First name",componentProps:{classNames:{errorPosition:"absolute"}}},{fieldType:"text",inline:!0,name:"applicant.".concat(a,".disclosures.fatca.details.middleName"),label:"",placeholder:"Middle name(Optional)"},{fieldType:"text",inline:!0,name:"applicant.".concat(a,".disclosures.fatca.details.lastName"),label:"",rules:{required:"Please enter last name",validate:e=>e.length>1||"entry is too short"},placeholder:"Last name",componentProps:{classNames:{errorPosition:"absolute"}}},{fieldType:"text",name:"applicant.".concat(a,".disclosures.fatca.details.foreignResidentialAddress"),label:"Foreign Residential Address",rules:{required:"Please enter foreign residential address"},placeholder:"Enter foreign residential address"},{fieldType:"text",name:"applicant.".concat(a,".disclosures.fatca.details.foreignMailingAddress"),label:"Foreign Mailing Address",rules:{required:"Please enter foreign mailing address"},placeholder:"Enter foreign mailing address"},{fieldType:"phone",name:"applicant.".concat(a,".disclosures.fatca.details.phoneNumber"),label:"Foreign Phone Number",placeholder:"Enter foreign phone number",componentProps:{phoneMode:"single"}},{fieldType:"text",name:"applicant.".concat(a,".disclosures.fatca.details.tin"),label:"Foreign Tax Identification Number (TIN)/Social Security Number (SSN)/National Identity Number(NIN)",placeholder:"Enter TIN/SSN/NIN",rules:{required:"Please enter TIN/SSN/NIN"}}]},I=()=>{let{form:{getValues:e}}=(0,u.kC)(),a=e("applicant")||[{}];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.Mo,{children:[(0,n.jsx)(d.zE,{children:"Foreign Account Tax Compliance Act (FATCA)"}),(0,n.jsx)(d.md,{children:"The following questions are designed to capture information for common reporting standards as well as FATCA (Foreign Account Tax Compliance Act)"})]}),(0,n.jsx)(d.sf,{children:(0,n.jsx)("div",{className:"space-y-10 py-5",children:a.map((e,a)=>(0,n.jsx)(c.nD,{type:"single",defaultValue:"item-0",collapsible:!0,children:(0,n.jsxs)(c.As,{value:"item-".concat(a),children:[(0,n.jsxs)(c.$m,{children:["Applicant #",a+1,": ",e.firstName," ",e.lastName]}),(0,n.jsx)(c.ub,{className:"data-[state=closed]:hidden py-10",forceMount:!0,children:(0,n.jsx)(q,{applicantId:a})})]})},e.id))})})]})};function q(e){let{applicantId:a}=e,{form:{watch:t}}=(0,u.kC)(),l=t("applicant.".concat(a,".disclosures.fatca.status")),i=(0,s.useMemo)(()=>{let e=C({index:a}),t=new v.C(e);return t.modifyFields("remove-all-except",{removeAllExcept:!l||0===l.length}),t.generate()},[a,l]);return(0,n.jsx)(n.Fragment,{children:i.map(e=>(0,n.jsx)(m.A,{...e},e.name))})}let M=[{fieldType:"agreement",name:"agreements.kestrel.termsAndConditions.agreed",label:"I/We agree to the above Terms and Conditions",rules:{required:"Click on the button above to agree to the terms above to continue",validate:e=>!!e||"Click on the button above to agree to the terms above to continue"},componentProps:{agreementVersion:"1.0"}}],O=()=>{let[e,a,t]=(0,T.n)("kestrelTerms");return t?(console.error(t),(0,n.jsx)("p",{className:"p-10",children:"Failed to load resource. Please try again later!"})):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Mo,{children:(0,n.jsx)(d.zE,{children:"Terms and Conditions - Kestrel Capital"})}),(0,n.jsxs)(d.sf,{children:[(0,n.jsx)(d.ay,{className:"max-h-96 overflow-auto",children:a?(0,n.jsx)(j.q,{}):(0,n.jsx)(P.o,{skipHtml:!0,children:e})}),(0,n.jsx)("div",{className:"space-y-10 py-5",children:M.map(e=>(0,n.jsx)(m.A,{...e},e.name))})]})]})};var w=t(9498);let D=e=>{let{index:a}=e;return[{fieldType:"signature",label:"Signature",name:"applicant.".concat(a,".disclosures.kestrel.nomineeAgreement.signatureResource"),rules:{required:"Please upload signature"},componentProps:{indexer:a}}]},F=()=>{let{form:{getValues:e},formVars:{clientID:a}}=(0,u.kC)(),[t,l,i]=(0,T.n)("kestrelNominee"),r=e("applicant")||[{firstName:"",lastName:""}];return i?(console.error(i),(0,n.jsx)("p",{children:"Failed to load resource. Try again later!"})):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Mo,{children:(0,n.jsx)(d.zE,{children:"Nominee Agreement - Kestrel Capital Nominees Services LTD"})}),(0,n.jsx)(d.sf,{children:(0,n.jsx)("div",{className:"space-y-10 py-5",children:r.map((e,i)=>(0,n.jsx)(c.nD,{type:"single",defaultValue:"item-0",collapsible:!0,children:(0,n.jsxs)(c.As,{value:"item-".concat(i),children:[(0,n.jsxs)(c.$m,{children:["Applicant #",i+1,": ",e.firstName," ",e.lastName]}),(0,n.jsx)(c.ub,{className:"data-[state=closed]:hidden pb-16",forceMount:!0,children:(0,n.jsx)(R,{applicantId:i,clientID:a,kestrelNomineeText:t,isLoading:l})})]})},e.id))})})]})};function R(e){let{applicantId:a,kestrelNomineeText:t="",isLoading:l}=e,{form:{getValues:i}}=(0,u.kC)(),{firstName:r="",middleName:s="",lastName:o="",countryOfResidence:c="",proofOfIdentity:p,contacts:f}=i("applicant.".concat(a))||{firstName:"",middleName:"",lastName:"",countryOfResidence:""},{idNumber:h}=p||{idNumber:""},{residentialAddress:y,city:x}=f||{residentialAddress:"",city:""},b=(0,w.GP)(new Date,"M/d/yyyy"),g="\\\n    Name: ".concat(r," ").concat(s," ").concat(o,"\\\n    ID Number: ").concat(h,"\\\n    Address: ").concat(y,"\n    ").concat(x," ").concat(c,"\n    \n\n    "),N=D({index:a});return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"space-y-10",children:[(0,n.jsx)(d.ay,{className:"max-h-96 overflow-auto",children:l?(0,n.jsx)(j.q,{}):(0,n.jsx)(P.o,{skipHtml:!0,children:t.replace("{{date}}",b).replace("{{applicantGist}}",g)})}),(0,n.jsx)("div",{children:N.map(e=>(0,n.jsx)(m.A,{...e},e.name))})]})})}let K=[{fieldType:"agreement",name:"agreements.afrinvest.emailIndemnity.agreed",label:"I/We agree to the above indemnity provisions",componentProps:{agreementVersion:"1.0"}}],B=()=>{let[e,a,t]=(0,T.n)("afrinvestEmailIndemnity");return t?(console.error(t),(0,n.jsx)("p",{children:"Failed to load resource. Please try again!"})):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Mo,{children:(0,n.jsx)(d.zE,{children:"Email Indemnity - Afrinvest"})}),(0,n.jsxs)(d.sf,{children:[(0,n.jsx)(d.ay,{children:a?(0,n.jsx)(j.q,{}):(0,n.jsx)(P.o,{children:e})}),(0,n.jsx)("div",{children:K.map(e=>(0,n.jsx)(m.A,{...e},e.name))})]})]})},G=e=>{let{index:a}=e;return[{fieldType:"signature",label:"",name:"applicant.".concat(a,".disclosures.databank.emailIndemnity.signatureResource")}]},_=()=>{var e;let{form:{getValues:a}}=(0,u.kC)(),[t,l,i]=(0,T.n)("databankEmailIndemnity"),r=null!==(e=a("applicant"))&&void 0!==e?e:[{}],s=a("clientType");return i?(console.error(i),(0,n.jsx)("p",{className:"p-10",children:"Failed to load resource. Please try again later!"})):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Mo,{children:(0,n.jsx)(d.zE,{children:"Email Indemnity - Databank Brokerage Limited"})}),(0,n.jsx)(d.sf,{children:r.map((e,a)=>{var i,r,p,u;let f=null!==(i=e.firstName)&&void 0!==i?i:"",h=null!==(r=e.lastName)&&void 0!==r?r:"",y=null!==(p=e.middleName)&&void 0!==p?p:"",b="".concat(f," ").concat(y," ").concat(h),g="".concat(null!==(u=e.contacts.residentialAddress)&&void 0!==u?u:"",", ").concat(e.contacts.city," ").concat(e.contacts.postalCode,", ").concat(e.countryOfResidence);return(0,n.jsx)(c.nD,{collapsible:!0,type:"single",defaultValue:"item-0",children:(0,n.jsxs)(c.As,{value:"item-".concat(a),children:[(0,n.jsxs)(c.$m,{children:["Applicant #",a+1," ",f," ",h]}),(0,n.jsx)(c.ub,{className:"data-[state=closed]:hidden",forceMount:!0,children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.ay,{children:l?(0,n.jsx)(j.q,{}):(0,n.jsx)(P.o,{skipHtml:!0,children:t.replaceAll("{{var1}}",b).replaceAll("{{var2}}","Individual"===s?"Myself":"Ourselves")})}),(0,n.jsxs)(o.lR,{htmlFor:"indemnity__address",className:"space-y-2.5",children:[(0,n.jsx)("span",{children:"Your Home Address"}),(0,n.jsx)(x.p,{disabled:!0,value:null!=g?g:"",id:"indemnity__address"})]}),G({index:a}).map(e=>(0,n.jsx)(m.A,{...e},e.name))]})})]})},e.id)})})]})},z=[{fieldType:"radio",name:"signatureMandate",label:"Signature Mandate",rules:{required:"Please select option"},options:{keys:["Both signatories to sign","One signatory to sign"]}}],V=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.Mo,{children:[(0,n.jsx)(d.zE,{children:"Signature Mandate"}),(0,n.jsx)(d.md,{children:"Please select which one applies."})]}),(0,n.jsx)(d.sf,{children:(0,n.jsx)("div",{className:"space-y-[40px] py-5",children:z.map(e=>(0,n.jsx)(m.A,{...e},e.name))})})]}),U=[{fieldType:"agreement",name:"agreements.afrinvest.privacyPolicy.agreed",label:"We can confirm that, we have read, understood and hereby accept the above privacy statement and we expressly give our consent and authorise you to collect, process and use our personal data for the provision of financial services to us.",rules:{required:"You must accept the above privacy policy to continue",validate:e=>!!e||"You must accept the above privacy policy to continue"},componentProps:{agreementVersion:"1.0"}}],L=()=>{let[e,a,t]=(0,T.n)("afrinvestPrivacyPolicy");return t?(console.error(t),(0,n.jsx)("p",{className:"p-10",children:"Failed to load resource. Please try again later!"})):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.Mo,{children:[(0,n.jsx)(d.zE,{children:"Privacy Policy - Afrinvest"}),(0,n.jsx)(d.md,{children:"Please read and consent to the privacy policy below."})]}),(0,n.jsxs)(d.sf,{children:[(0,n.jsx)(d.ay,{children:a?(0,n.jsx)(j.q,{}):(0,n.jsx)(P.o,{skipHtml:!0,children:e})}),(0,n.jsx)("div",{children:U.map(e=>(0,n.jsx)(m.A,{...e},e.name))})]})]})},H=[{fieldType:"agreement",name:"agreements.declarations.agreed",label:"I/We agree to the above declarations",componentProps:{agreementVersion:"1.0"}}],W=()=>{let[e,a,t]=(0,T.n)(["declarations/databank","declarations/kestrel"]);return t?(console.error(t),(0,n.jsx)("p",{className:"p-10",children:"Failed to load resource. Try again later!"})):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.Mo,{children:[(0,n.jsx)(d.zE,{children:"Declaration"}),(0,n.jsx)(d.md,{children:"Please read and consent to the declaration below."})]}),(0,n.jsxs)(d.sf,{children:[(0,n.jsxs)("div",{className:"space-y-8 paragraph2Regular text-neutral-700",children:[(0,n.jsxs)("div",{className:"space-y-5",children:[(0,n.jsx)("h2",{children:"Databank"}),(0,n.jsx)(d.ay,{children:a?(0,n.jsx)(j.q,{}):(0,n.jsx)(P.o,{children:e[0]})})]}),(0,n.jsxs)("div",{className:"space-y-5",children:[(0,n.jsx)("h2",{children:"Kestrel"}),(0,n.jsx)(d.ay,{children:a?(0,n.jsx)(j.q,{}):(0,n.jsx)(P.o,{children:e[1]})})]}),(0,n.jsxs)("div",{className:"px-6 py-10 bg-neutral-50 rounded-md border border-neutral-100 space-y-3 h-3/4  max-w-prose",children:[(0,n.jsx)("p",{children:"I/We hereby:"})," ",(0,n.jsxs)("ul",{className:"list-disc px-10 space-y-5",children:[(0,n.jsx)("li",{children:"Request to open and maintain a Securities Account in my/our name/ Change particulars in my/our Securities Accounts as indicated above (delete as appropriate)."})," ",(0,n.jsx)("li",{children:" Affirm that all information in this form is correct."})," ",(0,n.jsx)("li",{children:"Undertake to notify my CDA any change of particulars or information provided by me/us in this form."})]})]})]}),(0,n.jsx)("div",{children:H.map(e=>(0,n.jsx)(m.A,{...e},e.name))})]})]})};var Y=t(9911);let $=e=>{let{index:a}=e;return[{fieldType:"text",name:"applicant.".concat(a,".disclosures.ratification.nameOfDeclarant"),label:"Name of Declarant"},{fieldType:"text",name:"applicant.".concat(a,".disclosures.ratification.languageOfUnderstanding"),label:"Language of Understanding"}]},J=()=>{let{formAction:e,form:{getValues:a}}=(0,u.kC)(),t=(a("applicant")||[{}]).length,l=a=>e({type:"jump_to_form_location",toStage:"disclosures",toStep:a}),i=e=>({firstName:"applicant.".concat(e,".firstName"),lastName:"applicant.".concat(e,".lastName"),titlePrefix:"Applicant"});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.Mo,{children:[(0,n.jsx)(d.zE,{children:"Disclosures Summary"}),(0,n.jsx)(d.md,{children:"Review your submissions for any inaccuracies"})]}),(0,n.jsx)(d.sf,{className:"bg-white px-0 pt-0",children:(0,n.jsxs)("div",{className:"bg-neutral-50 space-y-[16px]",children:[(0,n.jsx)(Y.N,{sectionName:"Signature Upload",applicantCount:t,editAction:l.bind(void 0,"signature upload"),fieldModel:p,accordionTitle:i}),(0,n.jsx)(Y.N,{sectionName:"Illiterate/Blind Customer Ratification",applicantCount:t,editAction:l.bind(void 0,"customer ratification"),fieldModel:$,accordionTitle:i}),(0,n.jsx)(Y.N,{sectionName:"Politically Exposed Person (PEP) Self-Certification",applicantCount:t,editAction:l.bind(void 0,"pep"),fieldModel:N,accordionTitle:i}),(0,n.jsx)(Y.N,{sectionName:"Foreign Account Tax Compliance Act (FATCA)",applicantCount:t,editAction:l.bind(void 0,"fatca"),fieldModel:C,accordionTitle:i}),(0,n.jsx)(Y.N,{sectionName:"Terms and Conditions - Kestrel Capital",editAction:l.bind(void 0,"kestrel capital - terms"),fieldModel:M}),(0,n.jsx)(Y.N,{sectionName:"Nominee Agreement - Kestrel Capital Nominees Services LTD",applicantCount:t,editAction:l.bind(void 0,"kestrel capital - nominee"),fieldModel:D,accordionTitle:i}),(0,n.jsx)(Y.N,{sectionName:"Email Indemnity - Afrinvest",editAction:l.bind(void 0,"afrinvest - email indemnity"),fieldModel:K}),(0,n.jsx)(Y.N,{sectionName:"Declaration",editAction:l.bind(void 0,"declarations"),fieldModel:H}),t&&t>1&&(0,n.jsx)(Y.N,{sectionName:"Signature Mandate",editAction:l.bind(void 0,"signature mandate"),fieldModel:z}),(0,n.jsx)(Y.N,{sectionName:"Privacy Policy - Afrinvest",editAction:l.bind(void 0,"afrinvest - privacy policy"),fieldModel:U})]})})]})},X=()=>{let{formNav:e}=(0,u.kC)(),a={"signature upload":(0,n.jsx)(f,{}),"customer ratification":(0,n.jsx)(b,{}),pep:(0,n.jsx)(A,{}),fatca:(0,n.jsx)(I,{}),"kestrel capital - terms":(0,n.jsx)(O,{}),"kestrel capital - nominee":(0,n.jsx)(F,{}),"afrinvest - email indemnity":(0,n.jsx)(B,{}),"databank - email indemnity":(0,n.jsx)(_,{}),declarations:(0,n.jsx)(W,{}),"signature mandate":(0,n.jsx)(V,{}),"afrinvest - privacy policy":(0,n.jsx)(L,{}),review_disclosures:(0,n.jsx)(J,{})};return(0,n.jsx)(n.Fragment,{children:a[e.currentStep]})},Q=e=>{let{index:a}=e;return[{fieldType:"file-upload",name:"applicant.".concat(a,".fileUploads.applicantID.fileName"),label:"Notorized Applicant(s) ID",rules:{required:"Please upload notorized ID"},componentProps:{fileFieldName:"applicantID"}},{fieldType:"file-upload",name:"applicant.".concat(a,".fileUploads.passportPhotograph.fileName"),label:"Passport Photograph of Account Holder(s)",rules:{required:"Please upload passport photograph"},componentProps:{fileFieldName:"passportPhotograph"}},{fieldType:"file-upload",name:"applicant.".concat(a,".fileUploads.taxCertificate.fileName"),label:"Tax Registration Certificate (Optional)",componentProps:{fileFieldName:"taxCertificate"}},{fieldType:"file-upload",name:"applicant.".concat(a,".fileUploads.BVN.fileName"),label:"BVN (Optional)",componentProps:{fileFieldName:"BVN"}},{fieldType:"file-upload",name:"applicant.".concat(a,".fileUploads.proofOfAddress.fileName"),label:"Notarized Proof of Address (latest utility bill, signed lease agreement, signed affidavit)",rules:{required:"Please upload proof of address"},componentProps:{fileFieldName:"proofOfAddress"}},{fieldType:"file-upload",name:"applicant.".concat(a,".fileUploads.addressMap.fileName"),label:"Address Map Screenshot (required if proof of address is signed affidavit)",rules:{required:"Please upload address map screenshot"},componentProps:{fileFieldName:"addressMap"}},{fieldType:"file-upload",name:"applicant.".concat(a,".fileUploads.foreignAddress.fileName"),label:"Proof of Foreign Address (Non-Resident Clients) (Optional)",componentProps:{fileFieldName:"foreignAddress"}},{fieldType:"file-upload",name:"applicant.".concat(a,".fileUploads.residencePermit.fileName"),label:"Residence/Work Permit (if applicable)",componentProps:{fileFieldName:"residencePermit"}},{fieldType:"file-upload",name:"applicant.".concat(a,".fileUploads.proofOfBank.fileName"),label:"Notarized Proof of Bank (3 months bank statement or cancelled cheque leaf) (Optional)",componentProps:{fileFieldName:"proofOfBank"}},{fieldType:"file-upload",name:"applicant.".concat(a,".fileUploads.KRAPin.fileName"),label:"Kenya KRA PIN Certificate (Optional)",componentProps:{fileFieldName:"KRAPin"}}]},Z=()=>{let{form:{getValues:e}}=(0,u.kC)(),a=e("applicant")||[{}];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.Mo,{children:[(0,n.jsx)(d.zE,{children:"Document Checklist"}),(0,n.jsx)(d.md,{children:"Upload all the required files"})]}),(0,n.jsx)(d.sf,{children:(0,n.jsx)("div",{className:"space-y-[8px] py-5",children:a.map((e,a)=>(0,n.jsx)(c.nD,{type:"single",defaultValue:"item-0",collapsible:!0,children:(0,n.jsxs)(c.As,{value:"item-".concat(a),children:[(0,n.jsxs)(c.$m,{children:["Applicant #",a+1,": ",e.firstName," ",e.lastName]}),(0,n.jsx)(c.ub,{className:"data-[state=closed]:hidden py-10",forceMount:!0,children:(0,n.jsx)(ee,{applicantId:a})})]})},e.id))})})]})};function ee(e){let{applicantId:a}=e,t=(0,s.useMemo)(()=>{let e=Q({index:a});return new v.C(e).generate()},[a]);return(0,n.jsx)(n.Fragment,{children:t.map(e=>(0,n.jsx)(m.A,{...e},e.name))})}let ea=()=>{let{formAction:e,form:{getValues:a}}=(0,u.kC)(),t=(a("applicant")||[{}]).length;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.Mo,{children:[(0,n.jsx)(d.zE,{children:"Application Summary"}),(0,n.jsx)(d.md,{children:"Review your submissions for any inaccuracies"})]}),(0,n.jsx)(d.sf,{className:"bg-white px-0 pt-0",children:(0,n.jsx)("div",{className:"bg-neutral-50 space-y-[16px]",children:(0,n.jsx)(Y.N,{sectionName:"Document Checklist",applicantCount:t,editAction:(a=>e({type:"jump_to_form_location",toStage:"document checklist",toStep:a})).bind(void 0,"checklist"),fieldModel:Q,accordionTitle:e=>({firstName:"applicant.".concat(e,".firstName"),lastName:"applicant.".concat(e,".lastName"),titlePrefix:"Applicant"})})})})]})},et=()=>{let{prev:e}=(0,u.kC)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.Mo,{children:[(0,n.jsx)(d.zE,{className:"heading5Bold",children:"Almost Done!"}),(0,n.jsx)(d.md,{children:"Thanks for completing your application. Submit and verify your identity."})]}),(0,n.jsx)(d.sf,{className:"relative",children:(0,n.jsxs)("div",{className:"absolute bottom-10 w-full inset-x-0 flex items-center justify-end px-10 space-x-2 py-5 grow-0",children:[(0,n.jsx)(y.$,{type:"submit",size:"lg",onClick:e,variant:"outline",children:"Go Back"}),(0,n.jsx)(y.$,{type:"submit",size:"lg",children:"Submit"})]})})]})},en=()=>{let{formNav:e}=(0,u.kC)(),a={checklist:(0,n.jsx)(Z,{}),"review_document upload":(0,n.jsx)(ea,{}),submit:(0,n.jsx)(et,{})};return(0,n.jsx)(n.Fragment,{children:a[e.currentStep]})};var el=t(9785);let ei=(0,t(3943).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var er=t(9894),es=t(6094);let eo=e=>{let{index:a}=e;return[{fieldType:"radio",name:"nextOfKin.".concat(a,".title.presets"),label:"Title",options:{keys:["Mr","Mrs","Ms","Prof","Dr","Other"]},rules:{required:"Select Title"},componentProps:{classNames:{radioGroupStyles:"grid grid-cols-5"},otherInputProps:{label:"Other? Specify",placeholder:"Specify"}}},{fieldType:"text",inline:!0,name:"nextOfKin.".concat(a,".firstName"),label:"Full Name",rules:{required:"Please enter first name",validate:e=>e.length>1||"entry is too short"},placeholder:"First name",componentProps:{classNames:{errorPosition:"absolute"}}},{fieldType:"text",inline:!0,name:"nextOfKin.".concat(a,".middleName"),label:"",placeholder:"Middle name(Optional)"},{fieldType:"text",inline:!0,name:"nextOfKin.".concat(a,".lastName"),label:"",rules:{required:"Please enter last name",validate:e=>e.length>1||"entry is too short"},placeholder:"Last name",componentProps:{classNames:{errorPosition:"absolute"}}},{fieldType:"date",name:"nextOfKin.".concat(a,".dateOfBirth"),label:"Date of Birth",rules:{required:"Select date of birth"},placeholder:"Select dates",componentProps:{disableFutureDays:!0}},{fieldType:"text",name:"nextOfKin.".concat(a,".relationshipToApplicant"),label:"Relationship to Applicant",placeholder:"Enter relationship to applicant",rules:{required:"Please enter relationship to applicant"}},{fieldType:"radio",name:"nextOfKin.".concat(a,".gender"),label:"Gender",rules:{required:"Select gender"},options:{keys:["Male","Female"]},componentProps:{classNames:{radioGroupStyles:"grid grid-cols-2 gap-[4px]"}}},{fieldType:"radio",name:"nextOfKin.".concat(a,".maritalStatus"),label:"Marital Status",rules:{required:"Select marital status"},options:{keys:["Single","Married","Divorced","Separated"]},componentProps:{classNames:{radioGroupStyles:"grid grid-cols-4 gap-[4px]"}}},{fieldType:"dropdown",name:"nextOfKin.".concat(a,".countryOfBirth"),label:"Country of Birth",rules:{required:"Select country of birth"},componentProps:{isCountryList:!0},placeholder:"Select country"},{fieldType:"text",name:"nextOfKin.".concat(a,".placeOfBirth"),label:"Place of Birth (Optional)",placeholder:"Enter place of birth"},{fieldType:"dropdown",name:"nextOfKin.".concat(a,".countryOfResidence"),label:"Country of Residence",rules:{required:"Select country of residence"},componentProps:{isCountryList:!0},placeholder:"Select country"},{fieldType:"dropdown",name:"nextOfKin.".concat(a,".countryOfCitizenship"),label:"Nationality/Country of Citizenship",rules:{required:"Select nationality"},componentProps:{isCountryList:!0},placeholder:"Select country"},{fieldType:"text",name:"nextOfKin.".concat(a,".percentageAllocation"),label:"Percentage Allocation (Optional)",placeholder:"Enter number",rules:{validate:{isNumber:e=>!e||S().isNumeric(e)||"Entry must be a number",isWithinRange:e=>!e||parseInt(e)>=0&&100>=parseInt(e)||"Percentage must be between 0 and 100"}}}]};var ec=t(4667);let ed={id:ec.k.generateUniqueIdentifier(),title:{presets:void 0,other:""},firstName:"",lastName:"",middleName:"",dateOfBirth:"",relationshipToApplicant:"",gender:void 0,maritalStatus:void 0,countryOfBirth:"",placeOfBirth:"",countryOfResidence:"",citizenship:"",percentageAllocation:""},ep=()=>{let{form:{control:e}}=(0,u.kC)(),{fields:a,replace:t,append:l,remove:i}=(0,el.jz)({control:e,name:"nextOfKin"});return(0,s.useEffect)(()=>{if(0===a.length){t(ed);return}},[a,t]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.Mo,{children:[(0,n.jsx)(d.zE,{children:"Next of Kin - Personal Information"}),(0,n.jsx)(d.md,{children:"Enter the information of your next of kin"})]}),(0,n.jsx)(d.sf,{children:(0,n.jsxs)("div",{className:"space-y-[8px] py-5",children:[a.map((e,a)=>(0,n.jsx)("div",{className:"flex space-x-1",children:(0,n.jsx)(c.nD,{type:"single",defaultValue:"item-0",className:"grow",collapsible:!0,children:(0,n.jsxs)(c.As,{value:"item-".concat(a),children:[(0,n.jsxs)(c.$m,{className:(0,es.cn)("relative",a>0&&"pl-12"),type:"button",children:[(0,n.jsx)("div",{className:"absolute left-[16px]",children:a>0&&(0,n.jsx)("span",{className:"text-primary-500 hover:bg-none hover:no-underline px-0 py-0 h-fit ",onClick:()=>i(a),children:(0,n.jsx)(ei,{className:"h-5 w-5 mr-1"})})}),"Next of Kin #",a+1]}),(0,n.jsx)(c.ub,{className:"data-[state=closed]:hidden py-10 overflow-visible",forceMount:!0,children:(0,n.jsx)(em,{applicantId:a})})]})})},e.id)),(0,n.jsx)("div",{children:(0,n.jsxs)(y.$,{variant:"link",type:"button",disabled:2===a.length,className:"text-primary-500 hover:bg-none hover:no-underline px-0 py-2 h-fit ",onClick:()=>{l(ed,{})},children:[(0,n.jsx)(er.A,{className:"h-5 w-5 mr-1"}),"Add a next of kin"]})})]})})]})};function em(e){let{applicantId:a}=e,t=(0,s.useMemo)(()=>eo({index:a}),[a]);return(0,n.jsx)(n.Fragment,{children:t.map(e=>(0,n.jsx)(m.A,{...e},e.name))})}let eu=e=>{let{index:a}=e;return[{fieldType:"text",name:"nextOfKin.".concat(a,".contacts.residentialAddress"),label:"Residential Address (Not P.O Box)",placeholder:"Enter residential address",rules:{required:"Please enter residential address"}},{fieldType:"text",name:"nextOfKin.".concat(a,".contacts.city"),label:"City/Town",placeholder:"Enter city/town",rules:{required:"Please enter city/town"}},{fieldType:"phone",name:"nextOfKin.".concat(a,".contacts.phoneNumber"),label:"Phone Number",placeholder:"Enter phone number",componentProps:{phoneMode:"single"}},{fieldType:"text",name:"nextOfKin.".concat(a,".contacts.email"),label:"Email Address (Optional)",placeholder:"Enter email"}]},ef=()=>{let{form:{getValues:e}}=(0,u.kC)(),a=e("nextOfKin");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.Mo,{children:[(0,n.jsx)(d.zE,{children:"Next of Kin - Contact Details"}),(0,n.jsx)(d.md,{children:"Enter the contact information of your next of kin."})]}),(0,n.jsx)(d.sf,{children:(0,n.jsx)("div",{className:"space-y-[8px] py-5",children:a.map((e,a)=>(0,n.jsx)(c.nD,{type:"single",defaultValue:"item-0",collapsible:!0,children:(0,n.jsxs)(c.As,{value:"item-".concat(a),children:[(0,n.jsxs)(c.$m,{children:["Next of Kin #",a+1,": ",e.firstName," ",e.lastName]}),(0,n.jsx)(c.ub,{className:"data-[state=closed]:hidden py-10",forceMount:!0,children:(0,n.jsx)(eh,{applicantId:a})})]})},e.id))})})]})};function eh(e){let{applicantId:a}=e,t=(0,s.useMemo)(()=>eu({index:a}),[a]);return(0,n.jsx)(n.Fragment,{children:t.map(e=>(0,n.jsx)(m.A,{...e},e.name))})}let ey=e=>{let{index:a}=e;return[{fieldType:"radio",name:"nextOfKin.".concat(a,".proofOfIdentity.idType"),label:"ID Type",rules:{required:"Select ID type"},options:{keys:["Passport","National ID","Birth Certificate (If under 18 years old)"]}},{fieldType:"text",name:"nextOfKin.".concat(a,".proofOfIdentity.idNumber"),label:"ID Number",placeholder:"Enter ID number",rules:{required:"Please enter ID number"}},{fieldType:"date",name:"nextOfKin.".concat(a,".proofOfIdentity.issueDate"),label:"Issue Date",placeholder:"Select date",rules:{required:"Please select date"},componentProps:{disableFutureDays:!0}},{fieldType:"text",name:"nextOfKin.".concat(a,".proofOfIdentity.placeOfIssue"),label:"Place of Issue",placeholder:"Enter place of issue",rules:{required:"Please enter place of issue"}},{fieldType:"date",name:"nextOfKin.".concat(a,".proofOfIdentity.expiryDate"),label:"Expiry Date",placeholder:"Select date",componentProps:{disablePastDays:!0},tags:["deps"]}]},ex=()=>{let{form:{getValues:e},formAction:a}=(0,u.kC)(),t=e("nextOfKin");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.Mo,{children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)(d.zE,{children:"Next of Kin - Proof of Identity"}),(0,n.jsx)(y.$,{variant:"outline",onClick:()=>a({type:"next"}),children:"Skip"})]}),(0,n.jsx)(d.md,{children:"Enter the ID information of your next of kin."})]}),(0,n.jsx)(d.sf,{children:(0,n.jsx)("div",{className:"space-y-[8px] py-5",children:t.map((e,a)=>(0,n.jsx)(c.nD,{type:"single",defaultValue:"item-0",collapsible:!0,children:(0,n.jsxs)(c.As,{value:"item-".concat(a),children:[(0,n.jsxs)(c.$m,{children:["Applicant #",a+1,": ",e.firstName," ",e.lastName]}),(0,n.jsx)(c.ub,{className:"data-[state=closed]:hidden pb-16 overflow-visible",forceMount:!0,children:(0,n.jsx)(eb,{applicantId:a})})]})},a))})})]})};function eb(e){let{applicantId:a}=e,{form:{watch:t}}=(0,u.kC)(),l=t("nextOfKin.".concat(a,".proofOfIdentity.idType")),i=(0,s.useMemo)(()=>{let e=ey({index:a}),t=new v.C(e);return t.modifyFields("deps",{required:"Birth Certificate (If under 18 years old)"!==l}),t.generate()},[a,l]);return(0,n.jsx)(n.Fragment,{children:i.map(e=>(0,n.jsx)(m.A,{...e},e.name))})}let eg=()=>{let{form:{getValues:e},formAction:a}=(0,u.kC)(),t=e("nextOfKin").length,l=e=>a({type:"jump_to_form_location",toStage:"next of kin",toStep:e}),i=e=>({firstName:"nextOfKin.".concat(e,".firstName"),lastName:"nextOfKin.".concat(e,".lastName"),titlePrefix:"Next of Kin"});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.Mo,{children:[(0,n.jsx)(d.zE,{children:"Next of Kin Summary"}),(0,n.jsx)(d.md,{children:"Review your submissions for any inaccuracies"})]}),(0,n.jsx)(d.sf,{className:"bg-white px-0 pt-0",children:(0,n.jsxs)("div",{className:"bg-neutral-50 space-y-[16px]",children:[(0,n.jsx)(Y.N,{sectionName:"Next of Kin - Personal Information",applicantCount:t,editAction:l.bind(void 0,"personal information_next of kin"),fieldModel:eo,accordionTitle:i}),(0,n.jsx)(Y.N,{sectionName:"Next of Kin - Contact Details",applicantCount:t,editAction:l.bind(void 0,"contact details_next of kin"),fieldModel:eu,accordionTitle:i}),(0,n.jsx)(Y.N,{sectionName:"Next of Kin - Proof of Identity",applicantCount:t,editAction:l.bind(void 0,"proof of identity_next of kin"),fieldModel:ey,accordionTitle:i})]})})]})},ej=()=>{let{formNav:e}=(0,u.kC)(),a={"personal information_next of kin":(0,n.jsx)(ep,{}),"contact details_next of kin":(0,n.jsx)(ef,{}),"proof of identity_next of kin":(0,n.jsx)(ex,{}),"review_next of kin":(0,n.jsx)(eg,{})};return(0,n.jsx)(n.Fragment,{children:a[e.currentStep]})},eN=[{fieldType:"radio",name:"clientType",defaultValue:"Individual",label:"Client Type",options:{keys:["Individual","Joint Account"]},componentProps:{classNames:{radioGroupStyles:"grid grid-cols-2 gap-[4px]"}}},{fieldType:"radio",name:"clientStatus",label:"Client Status",options:{keys:["New Client","Existing Client"]},componentProps:{classNames:{radioGroupStyles:"grid grid-cols-2 gap-[4px]"}},rules:{required:"Select client status"}}],ev=JSON.parse('{"z3":{"Kc":["Male","Female"],"P9":["single","married","divorced","separated"]}}'),eP=e=>{let{index:a}=e;return[{fieldType:"radio",name:"applicant.".concat(a,".title.presets"),label:"Title",rules:{required:"Please enter select title"},options:{keys:["Mr","Mrs","Ms","Prof","Dr","Other"]},componentProps:{classNames:{radioGroupStyles:"grid grid-cols-5"},otherInputProps:{label:"Other? Specify",placeholder:"Enter title"}}},{fieldType:"text",inline:!0,name:"applicant.".concat(a,".firstName"),label:"Full Name",rules:{required:"Please enter first name",validate:e=>e.length>1||"entry is too short"},placeholder:"First name",componentProps:{classNames:{errorPosition:"absolute"}}},{fieldType:"text",inline:!0,name:"applicant.".concat(a,".middleName"),label:"",placeholder:"Middle name(Optional)",componentProps:{classNames:{errorPosition:"absolute"}}},{fieldType:"text",inline:!0,name:"applicant.".concat(a,".lastName"),label:"",rules:{required:"Please enter last name",validate:e=>e.length>1||"entry is too short"},placeholder:"Last name",componentProps:{classNames:{errorPosition:"absolute"}}},{fieldType:"date",name:"applicant.".concat(a,".dateOfBirth"),label:"Date of Birth",rules:{required:"Select date of birth"},placeholder:"Select dates",componentProps:{disableFutureDays:!0,minYear:18}},{fieldType:"text",name:"applicant.".concat(a,".mothersMaidenName"),label:"Mother's Maiden Name",rules:{required:"Please enter place of birth",validate:e=>e.length>1||"entry is too short"},placeholder:"Enter name"},{fieldType:"text",name:"applicant.".concat(a,".maidenName"),label:"Maiden Name (Optional)",placeholder:"Enter name"},{fieldType:"radio",name:"applicant.".concat(a,".gender"),label:"Gender",rules:{required:"Select gender"},options:{keys:ev.z3.Kc},componentProps:{classNames:{radioGroupStyles:"grid grid-cols-2 gap-[4px]"}}},{fieldType:"radio",name:"applicant.".concat(a,".maritalStatus"),label:"Marital Status",rules:{required:"Select marital status"},options:{keys:ev.z3.P9},componentProps:{classNames:{radioGroupStyles:"grid grid-cols-4 gap-[4px]"}}},{fieldType:"text",name:"applicant.".concat(a,".placeOfBirth"),label:"Place of Birth",rules:{required:"Please enter place of birth",validate:e=>e.length>1||"entry is too short"},placeholder:"Enter place of birth"},{fieldType:"dropdown",name:"applicant.".concat(a,".countryOfResidence"),label:"Country of Residence",rules:{required:"Select country of residence"},componentProps:{isCountryList:!0},placeholder:"Select country"},{fieldType:"dropdown",name:"applicant.".concat(a,".citizenship"),label:"Nationality/Country of Citizenship",rules:{required:"Select nationality"},componentProps:{isCountryList:!0},placeholder:"Select country"},{name:"applicant.".concat(a,".residence.status"),fieldType:"radio",readonly:!0,label:"Residential Status",rules:{deps:["applicant.".concat(a,".countryOfCitizenship"),"applicant.".concat(a,".countryOfResidence")]},options:{keys:["Resident Ghanaian","Resident Foreigner","Non-Resident Ghanaian","Non-Resident Foreigner"]},componentProps:{classNames:{toggleStyles:"pointer-events-none"}}},{fieldType:"text",name:"applicant.".concat(a,".residence.permitNumber"),label:"Residence Permit Number",placeholder:"Enter permit number",rules:{required:"Please enter permit number"},tags:["GH"]},{fieldType:"date",name:"applicant.".concat(a,".residence.permitIssueDate"),label:"Permit Issue Date",placeholder:"DD/MM/YYYY",rules:{required:"Select date"},componentProps:{disableFutureDays:!0},tags:["GH"]},{fieldType:"text",name:"applicant.".concat(a,".residence.permitIssuePlace"),label:"Place of Issue",placeholder:"Enter place of Issue",rules:{required:"Please enter place of issue"},tags:["GH"]},{fieldType:"date",name:"applicant.".concat(a,".residence.permitExpiry"),label:"Permit Expiry Date",placeholder:"DD/MM/YYYY",rules:{required:"Select date"},componentProps:{disablePastDays:!0},tags:["GH"]},{fieldType:"text",name:"applicant.".concat(a,".licenseNumber"),label:"Professional License Number (Optional)",placeholder:"Enter professional license number"},{fieldType:"text",name:"applicant.".concat(a,".stateOfOrigin"),label:"State of Origin",placeholder:"Enter state",tags:["NG"]},{fieldType:"text",name:"applicant.".concat(a,".localGovernment"),label:"Local Government",placeholder:"Enter local government",tags:["NG"]},{fieldType:"text",name:"applicant.".concat(a,".religion"),label:"Religion",placeholder:"Enter religion",tags:["NG"]}]},eT={id:ec.k.generateUniqueIdentifier(),title:{presets:void 0,other:""},firstName:"",middleName:"",lastName:"",dateOfBirth:"",gender:void 0,maritalStatus:void 0,placeOfBirth:"",countryOfResidence:"",citizenship:"",profession:"",occupation:"",maidenName:"",mothersMaidenName:"",professionalLicenseNo:"",tin:"",residence:{status:void 0,details:{permitNumber:"",permitExpiry:"",permitIssueDate:"",permitIssuePlace:""}},contacts:{residentialAddress:"",city:"",phoneNumber:[{value:"",countryCode:"GH"}],email:"",postalAddress:"",faxNumber:[{value:"",countryCode:"GH"}],emergencyContact:{contactName:"",relation:"",phoneNumber:[{value:"",countryCode:"GH"}]}},employment:{status:""},bank:{locale:{country:"",name:"",branch:""},account:{name:"",number:""}},proofOfIdentity:{idNumber:"",idType:"",issueDate:"",placeOfIssue:"",expiryDate:""},riskProfile:{sourceOfFunds:[]},disclosures:{signatureResource:"",ratification:{nameOfDeclarant:"",languageOfUnderstanding:""},pepInfo:{isPep:"No"},fatca:{status:[]},kestrel:{nomineeAgreement:{signatureResource:""}},databank:{emailIndemnity:{signatureResource:""}}},fileUploads:{}},eA=[{name:"introduction",steps:["instructions"]},{name:"personal",steps:["retail client","category of investment","personal information_personal","contact details_personal","employment information","settlement bank account","proof of identity_personal","investment & risk profile","review_personal"]},{name:"next of kin",steps:["personal information_next of kin","contact details_next of kin","proof of identity_next of kin","review_next of kin"]},{name:"disclosures",steps:["signature upload","customer ratification","pep","fatca","kestrel capital - terms","kestrel capital - nominee","afrinvest - email indemnity","databank - email indemnity","declarations","signature mandate","afrinvest - privacy policy","review_disclosures"]},{name:"document checklist",steps:["checklist","review_document upload","submit"]}];var ek=function(e){return e[e.Individual=1]="Individual",e[e["Joint Account"]=2]="Joint Account",e}(ek||{});let eE=()=>{let{formAction:e,form:{getValues:a,setValue:t}}=(0,u.kC)(),[l,i]=a(["clientType","applicant"]);return t("applicant",i?"Individual"===l?[i[0]]:[i[0],eT]:Array(ek[null!=l?l:1]).fill(eT)),(0,s.useEffect)(()=>{"Individual"===l?e({type:"remove_step",stage:"disclosures",step:"signature mandate"}):e({type:"reset",stages:eA})},[l,e]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Mo,{children:(0,n.jsx)(d.zE,{children:"Retail Client"})}),(0,n.jsx)(d.sf,{children:(0,n.jsx)("div",{className:"space-y-[40px] py-5",children:eN.map(e=>(0,n.jsx)(m.A,{...e},e.name))})})]})},eS=[{fieldType:"text",name:"csdNumber",label:"CSD Number (Optional)",placeholder:"Enter CSD number"},{fieldType:"checkbox",name:"catInvestment",label:"Category of Investment",options:{keys:["Fixed Income","Equities/Shares"]},rules:{required:"Select investment category"},componentProps:{classNames:{boxGroupStyles:"grid grid-cols-2 gap-[4px]"}}},{fieldType:"radio",name:"taxExempt",label:"Are you tax exempt?",options:{keys:["Yes","No"]},componentProps:{classNames:{radioGroupStyles:"grid grid-cols-2 gap-[4px]"}},rules:{required:"Select tax exempt status"}}],eC=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.Mo,{children:(0,n.jsx)(d.zE,{children:"Category of Investment"})}),(0,n.jsx)(d.sf,{children:(0,n.jsx)("div",{className:"space-y-[40px] py-5",children:eS.map(e=>(0,n.jsx)(m.A,{...e},e.name))})})]}),eI=()=>{var e;let{form:{getValues:a}}=(0,u.kC)(),t=null!==(e=a("applicant"))&&void 0!==e?e:[];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.Mo,{children:[(0,n.jsx)(d.zE,{children:"Personal Information"}),(0,n.jsx)(d.md,{children:"Enter your personal information. All fields are required"})]}),(0,n.jsx)(d.sf,{children:(0,n.jsx)("div",{className:"space-y-[8px] py-5",children:t.map((e,a)=>(0,n.jsx)(c.nD,{type:"single",defaultValue:"item-0",className:"h-full",collapsible:!0,children:(0,n.jsxs)(c.As,{value:"item-".concat(a),children:[(0,n.jsxs)(c.$m,{children:["Applicant #",a+1]}),(0,n.jsx)(c.ub,{className:"data-[state=closed]:hidden py-10",forceMount:!0,children:(0,n.jsx)(eq,{applicantId:a})})]})},e.id))})})]})};function eq(e){let{applicantId:a}=e,{watch:t,setValue:l,unregister:i}=(0,u.kC)().form,[r,o]=t(["applicant.".concat(a,".countryOfResidence"),"applicant.".concat(a,".citizenship")]),c="GHANA"===r,d="GHANA"===o,p="NIGERIA"===r,f=c&&d?"Resident Ghanaian":c&&!d?"Resident Foreigner":d&&!c?"Non-Resident Ghanaian":"Non-Resident Foreigner",h=(0,s.useMemo)(()=>{let e=eP({index:a}),t=new v.C(e);return t.modifyFields("GH",{required:"Resident Foreigner"===f,remove:"Resident Ghanaian"===f}),t.modifyFields("NG",{required:p}),"Resident Ghanaian"===f&&i("applicant.".concat(a,".residence.details")),t.generate()},[a,f,p,i]);return(0,s.useEffect)(()=>l("applicant.".concat(a,".residence.status"),f),[f,a,l]),(0,n.jsx)(n.Fragment,{children:h.map(e=>(0,n.jsx)(m.A,{...e},e.name))})}let eM=e=>{let{index:a}=e;return[{fieldType:"text",name:"applicant.".concat(a,".contacts.residentialAddress"),label:"Residential Address (Not P.O Box)",placeholder:"Enter residential address",rules:{required:"Please enter residential address"}},{fieldType:"text",name:"applicant.".concat(a,".contacts.city"),label:"City/Town",placeholder:"Enter city/town",rules:{required:"Please enter city/town"}},{fieldType:"text",name:"applicant.".concat(a,".contacts.postalAddress"),label:"Postal Address",placeholder:"Enter postal address",rules:{required:"Please enter postal address"},tags:["KE"]},{fieldType:"phone",name:"applicant.".concat(a,".contacts.phoneNumber"),label:"Phone Number",placeholder:"Enter phone number"},{fieldType:"text",name:"applicant.".concat(a,".contacts.email"),label:"Email Address",placeholder:"Enter email",rules:{required:"Please enter email",validate:e=>S().isEmail(e)||"Email must be of the format: name@example.com"},tags:["optional-contact"]},{fieldType:"text",name:"applicant.".concat(a,".contacts.emergencyContact.contactName"),label:"Emergency Contact",placeholder:"Enter contact name",rules:{required:"Please enter contact name",validate:e=>e.length>5||"Name is too short"}},{fieldType:"text",name:"applicant.".concat(a,".contacts.emergencyContact.relation"),label:"",placeholder:"Enter relation",rules:{required:"Please enter relation",validate:e=>e.length>=2||"Entry is too short"}},{fieldType:"phone",name:"applicant.".concat(a,".contacts.emergencyContact.phoneNumber"),label:"",placeholder:"Enter contact phone number",componentProps:{phoneMode:"single"}},{fieldType:"text",name:"applicant.".concat(a,".contacts.postalCode"),label:"Zip/Postal Code",placeholder:"Enter zip/postal code",rules:{required:"Please enter zip/postal code"}},{fieldType:"phone",name:"applicant.".concat(a,".contacts.faxNumber"),label:"Fax Number (Optional)",placeholder:"Enter Fax Number",rules:null,componentProps:{phoneMode:"single"},tags:["KE"]},{fieldType:"text",name:"applicant.".concat(a,".contacts.digitalAddress"),label:"Digital Address (GhanaPost GPS) (Optional)",placeholder:"Enter address",tags:["residence-contact"]},{fieldType:"text",name:"applicant.".concat(a,".contacts.nearestLandmark"),label:"Nearest Landmark (Optional)",placeholder:"Enter landmark",tags:["residence-contact"]}]},eO=()=>{var e;let{form:{getValues:a}}=(0,u.kC)(),t=null!==(e=a("applicant"))&&void 0!==e?e:[];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.Mo,{children:[(0,n.jsx)(d.zE,{children:"Contact Details"}),(0,n.jsx)(d.md,{children:"Enter your contact information."})]}),(0,n.jsx)(d.sf,{children:(0,n.jsx)("div",{className:"space-y-[8px] py-5",children:t.map((e,a)=>(0,n.jsx)(c.nD,{type:"single",defaultValue:"item-0",collapsible:!0,children:(0,n.jsxs)(c.As,{value:"item-".concat(a),children:[(0,n.jsxs)(c.$m,{children:["Applicant #",a+1,": ",e.firstName," ",e.lastName]}),(0,n.jsx)(c.ub,{className:"data-[state=closed]:hidden py-10",forceMount:!0,children:(0,n.jsx)(ew,{applicantId:a})})]})},e.id))})})]})};function ew(e){let{applicantId:a}=e,t=(0,s.useMemo)(()=>{let e=eM({index:a});return new v.C(e).generate()},[a]);return(0,n.jsx)(n.Fragment,{children:t.map(e=>(0,n.jsx)(m.A,{...e},e.name))})}let eD=e=>{let{index:a,currency:t=""}=e;return[{fieldType:"radio",name:"applicant.".concat(a,".employment.status"),label:"Employment Status",rules:{required:"Select employment status"},options:{keys:["Employed","Self-Employed","Unemployed","Retired","Student"]},tags:["remove-all-except","control-employment"]},{fieldType:"text",defaultValue:"",name:"applicant.".concat(a,".employment.statusDetails.occupation"),label:"Occupation",placeholder:"Enter occupation",rules:{required:"Please enter occupation"}},{fieldType:"text",name:"applicant.".concat(a,".employment.statusDetails.profession"),label:"Profession",placeholder:"Enter profession",rules:{required:"Please enter profession"}},{fieldType:"text",name:"applicant.".concat(a,".employment.statusDetails.name"),label:"Employer/Business/School Name",placeholder:"Enter name",rules:{required:"Please enter name"}},{fieldType:"text",name:"applicant.".concat(a,".employment.statusDetails.address"),label:"Employer/Business/School Physical Address",placeholder:"Enter address",rules:{required:"Please enter address"}},{fieldType:"text",name:"applicant.".concat(a,".employment.statusDetails.digitalAddress"),label:"Digital Address (Ghana Post GPS)",placeholder:"Enter address",rules:{required:"Please enter address"}},{fieldType:"text",name:"applicant.".concat(a,".employment.statusDetails.nearestLandmark"),label:"Nearest Landmark",placeholder:"Enter nearest landmark",rules:{required:"Please enter nearest landmark"}},{fieldType:"phone",name:"applicant.".concat(a,".employment.statusDetails.phoneNumber"),label:"Employer/Business/School Phone Number",placeholder:"Enter phone number",tags:["remove-all-except"]},{fieldType:"text",name:"applicant.".concat(a,".employment.statusDetails.city"),label:"City/Town",placeholder:"Enter city/town",rules:{required:"Please enter city/town"}},{fieldType:"text",name:"applicant.".concat(a,".employment.statusDetails.postalAddress"),label:"Postal Address",placeholder:"Enter postal address",rules:{required:"Please enter postal address"}},{fieldType:"text",name:"applicant.".concat(a,".employment.statusDetails.postalCode"),label:"Postal Code",placeholder:"Enter Postal code",rules:{required:"Please enter Postal code"}},{fieldType:"text",name:"applicant.".concat(a,".employment.statusDetails.positionHeld"),label:"Position Held",placeholder:"Enter Position held",rules:{required:"Please enter Position held"}},{fieldType:"text",name:"applicant.".concat(a,".employment.statusDetails.natureOfBusiness"),label:"Nature of Business",placeholder:"Enter nature of business",rules:{required:"Please enter nature of business"}},{fieldType:"dropdown",name:"applicant.".concat(a,".employment.statusDetails.countryOfEmployment"),label:"Country of Employment",placeholder:"Select country of employment",rules:{required:"Select country"},componentProps:{isCountryList:!0}},{fieldType:"text",name:"applicant.".concat(a,".employment.statusDetails.yearsOfTotalEmployment"),label:"Years of Total Employment",placeholder:"Enter years of total employment",rules:{required:"Please enter years of total employment",validate:e=>S().isNumeric(e)||"Must be a number"}},{fieldType:"text",name:"applicant.".concat(a,".employment.statusDetails.yearsOfCurrentEmployment"),label:"Years of Current Employment",placeholder:"Enter years of current employment",rules:{required:"Please enter years of current employment",validate:e=>S().isNumeric(e)||"Must be a number"}},{fieldType:"text",name:"applicant.".concat(a,".employment.statusDetails.yearsOfPreviousEmployment"),label:"Years of Previous Employment",placeholder:"Enter years of previous employment",rules:{required:"Please enter years of previous employment",validate:e=>S().isNumeric(e)||"Must be a number"},tags:["DATAB"]},{fieldType:"text",name:"applicant.".concat(a,".employment.statusDetails.licenseNumber"),label:"Professional License Number (Optional)",placeholder:"Enter license number"},{fieldType:"text",name:"applicant.".concat(a,".employment.statusDetails.email"),label:"Employer/Business/School Email Address",placeholder:"Enter email address",rules:{required:"Please enter email address",validate:e=>S().isEmail(e)||"Email must be of the format: name@example.com"},tags:["remove-all-except"]},{fieldType:"text",name:"applicant.".concat(a,".employment.statusDetails.tin"),label:"TIN (Optional)",placeholder:"Enter TIN"},{fieldType:"radio",name:"applicant.".concat(a,".employment.statusDetails.monthlyIncomeRange"),label:"Total Monthly Income Range ".concat(t&&" ("+t+")"),rules:{required:"Please select income range"},options:{keys:["Below 1,000","1,000-5,000","5,000-10,000","Above 10,000"]}}]};var eF=t(7142);let eR=()=>{var e;let{form:{getValues:a}}=(0,u.kC)(),t=null!==(e=a("applicant"))&&void 0!==e?e:[];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.Mo,{children:[(0,n.jsx)(d.zE,{children:"Employment Information"}),(0,n.jsx)(d.md,{children:"Enter your employment information."})]}),(0,n.jsx)(d.sf,{children:(0,n.jsx)("div",{className:"space-y-[8px] py-5",children:t.map((e,a)=>(0,n.jsx)(c.nD,{type:"single",defaultValue:"item-0",collapsible:!0,children:(0,n.jsxs)(c.As,{value:"item-".concat(a),children:[(0,n.jsxs)(c.$m,{children:["Applicant #",a+1,": ",e.firstName," ",e.lastName]}),(0,n.jsx)(c.ub,{className:"data-[state=closed]:hidden py-10",forceMount:!0,children:(0,n.jsx)(eK,{applicantId:a})})]})},e.id))})})]})};function eK(e){let{applicantId:a}=e,{watch:t,resetField:l}=(0,el.xW)(),i=t("applicant.".concat(a,".employment.status")),r=eF.p.DATAB,o=(0,s.useMemo)(()=>{let e=eD({index:a,currency:r}),t=new v.C(e);return t.modifyFields("control-employment",{removeAllExcept:"Retired"===i||"Unemployed"===i||!i}),t.modifyFields("remove-all-except",{removeAllExcept:"Student"===i}),t.generate()},[a,i,r]);return(0,s.useEffect)(()=>{("Retired"===i||"Unemployed"===i)&&l("applicant.".concat(a,".employment.statusDetails"),{defaultValue:null})},[i,a,l]),(0,n.jsx)(n.Fragment,{children:o.map(e=>(0,n.jsx)(m.A,{...e},e.name))})}var eB=t(9529),eG=t(8466),e_=t(4757);let ez=e=>{let{index:a,bankList:t=[]}=e;return[{fieldType:"dropdown",name:"applicant.".concat(a,".bank.locale.country"),defaultValue:"GHANA",label:"Bank Country",placeholder:"Select country",rules:{required:"Select country"},componentProps:{isCountryList:!0}},{fieldType:"dropdown",name:"applicant.".concat(a,".bank.locale.name"),label:"Bank Name",placeholder:"Select bank",rules:{required:"Select bank"},options:{keys:t}},{fieldType:"text",name:"applicant.".concat(a,".bank.locale.branch"),label:"Bank Branch",placeholder:"Enter bank branch",rules:{required:"Please enter bank branch"}},{fieldType:"text",name:"applicant.".concat(a,".bank.account.name"),label:"Account Name",placeholder:"Enter account name",rules:{required:"Please enter account name"}},{fieldType:"text",name:"applicant.".concat(a,".bank.account.number"),label:"Account Number",placeholder:"Enter account number",rules:{required:"Please enter account number"}},{fieldType:"text",name:"applicant.".concat(a,".bank.account.bvn"),label:"BVN Number",placeholder:"Enter account bvn number",tags:["NG"]},{fieldType:"text",name:"applicant.".concat(a,".bank.account.type"),label:"Account Type",placeholder:"Enter account type",rules:{required:"Please enter account type"}},{fieldType:"date",name:"applicant.".concat(a,".bank.account.dateOpened"),label:"Date Opened",placeholder:"Select Date",rules:{required:"Select date"},componentProps:{disableFutureDays:!0}},{fieldType:"text",name:"applicant.".concat(a,".bank.account.swiftCode"),label:"SWIFT Code",placeholder:"Enter SWIFT code",rules:{required:"Please enter SWIFT code"},tags:["KE"]},{fieldType:"text",name:"applicant.".concat(a,".bank.account.KRAPin"),label:"KRA PIN Number",placeholder:"Enter KRA PIN number",tags:["KE","KESTR"]},{fieldType:"text",name:"applicant.".concat(a,".bank.account.routingNumber"),label:"Routing Number",placeholder:"Enter routing number",rules:{required:"Please enter routing number"},tags:["KE"]}]},eV=()=>{var e;let{form:{getValues:a}}=(0,u.kC)(),[t,l,i]=(0,eB.W)(e_.V),r=null!==(e=a("applicant"))&&void 0!==e?e:[];return i.flag?(console.log(i.message),(0,n.jsx)("p",{className:"p-10",children:"Something went wrong! Please try again later."})):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eG.A,{reveal:l}),(0,n.jsxs)(d.Mo,{children:[(0,n.jsx)(d.zE,{children:"Settlement Bank Account"}),(0,n.jsx)(d.md,{children:"Enter your bank account information."})]}),(0,n.jsx)(d.sf,{children:(0,n.jsx)("div",{className:"space-y-[8px] py-5",children:r.map((e,a)=>(0,n.jsx)(c.nD,{type:"single",defaultValue:"item-0",collapsible:!0,children:(0,n.jsxs)(c.As,{value:"item-".concat(a),children:[(0,n.jsxs)(c.$m,{children:["Applicant #",a+1,": ",e.firstName," ",e.lastName]}),(0,n.jsx)(c.ub,{className:"data-[state=closed]:hidden py-10 overflow-visible",forceMount:!0,children:(0,n.jsx)(eU,{applicantId:a,bankList:t||[]})})]})},e.id))})})]})};function eU(e){let{applicantId:a,bankList:t}=e,{form:{watch:l},formVars:{brokerCode:i}}=(0,u.kC)(),r=l("applicant.".concat(a,".bank.locale.country")),o=l("applicant.".concat(a,".countryOfResidence")),c="applicant.".concat(a,".bank.locale.name"),d=(0,s.useMemo)(()=>{let e=ez({index:a,bankList:t}),n=new v.C(e);return["KENYA","GHANA","NIGERIA"].includes(r)||n.modifyFields(c,e=>({...e,fieldType:"text",placeholder:"Enter bank name",rules:{required:"Please enter bank name"}})),n.modifyFields("KE",{required:"KENYA"===o}),n.modifyFields("KESTR",{remove:"KESTR"!==i}),n.modifyFields("NG",{required:"NIGERIA"===o}),n.generate()},[a,t,o,r,c,i]);return(0,n.jsx)(n.Fragment,{children:d.map(e=>(0,n.jsx)(m.A,{...e},e.name))})}let eL=e=>{let{index:a}=e;return[{fieldType:"radio",name:"applicant.".concat(a,".proofOfIdentity.idType"),label:"ID Type",options:{keys:["Passport","National ID","Driver's license"]},rules:{required:"Select ID type"}},{fieldType:"text",name:"applicant.".concat(a,".proofOfIdentity.idNumber"),label:"ID Number",placeholder:"Enter ID number",rules:{required:"Please enter ID number"}},{fieldType:"date",name:"applicant.".concat(a,".proofOfIdentity.issueDate"),label:"Issue Date",placeholder:"Select date",rules:{required:"Select issue date"},componentProps:{disableFutureDays:!0}},{fieldType:"text",name:"applicant.".concat(a,".proofOfIdentity.placeOfIssue"),label:"Place of Issue",placeholder:"Enter place of issue",rules:{required:"Please enter place of issue"}},{fieldType:"date",name:"applicant.".concat(a,".proofOfIdentity.expiryDate"),label:"Expiry Date",placeholder:"Select date",rules:{required:"Select expiry date"},componentProps:{disablePastDays:!0},tags:["deps"]}]},eH=()=>{let{getValues:e}=(0,el.xW)(),a=e("applicant")||[{}];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.Mo,{children:[(0,n.jsx)(d.zE,{children:"Proof of Identity"}),(0,n.jsx)(d.md,{children:"Enter your ID information."})]}),(0,n.jsx)(d.sf,{children:(0,n.jsx)("div",{className:"space-y-[8px] py-5",children:a.map((e,a)=>(0,n.jsx)(c.nD,{type:"single",defaultValue:"item-0",collapsible:!0,children:(0,n.jsxs)(c.As,{value:"item-".concat(a),children:[(0,n.jsxs)(c.$m,{children:["Applicant #",a+1,": ",e.firstName," ",e.lastName]}),(0,n.jsx)(c.ub,{className:"data-[state=closed]:hidden pb-16 overflow-visible",forceMount:!0,children:(0,n.jsx)(eW,{applicantId:a})})]})},e.id))})})]})};function eW(e){let{applicantId:a}=e,t=(0,s.useMemo)(()=>eL({index:a}),[a]);return(0,n.jsx)(n.Fragment,{children:t.map(e=>(0,n.jsx)(m.A,{...e},e.name))})}let eY=e=>{let{index:a,currency:t=""}=e;return[{fieldType:"radio",name:"applicant.".concat(a,".riskProfile.tolerance"),label:"Risk Tolerance",rules:{required:"Select risk tolerance"},options:{keys:["High","Medium","Low"]},componentProps:{classNames:{radioGroupStyles:"grid grid-cols-3"}},tags:["DATAB","AFRIN"]},{fieldType:"text",name:"applicant.".concat(a,".riskProfile.investmentObjective"),label:"Investment Objective",placeholder:"Enter investment objective",rules:{required:"Please enter investment objective"},tags:["DATAB","AFRIN"]},{fieldType:"text",name:"applicant.".concat(a,".riskProfile.beneficialOwner"),label:"Name of Beneficial Owner",placeholder:"Enter beneficial owner",rules:{required:"Please enter beneficial owner"},tags:["AFRIN"]},{fieldType:"radio",name:"applicant.".concat(a,".riskProfile.significantWithdrawalTimetable"),label:"When do you plan to withdraw a significant portion of your money",rules:{required:"Select time period"},options:{keys:["Less than 1 year","1 to 2 years","3 to 5 years","More than 5 years"]},tags:["DATAB"]},{fieldType:"radio",name:"applicant.".concat(a,".riskProfile.emergencyFunds"),label:"Do you have an emergency fund (i.e 6 months of after-tax income)?",rules:{required:"Select option"},options:{keys:["Yes","No","Yes,but less than six months"]},tags:["DATAB"]},{fieldType:"radio",name:"applicant.".concat(a,".riskProfile.investmentKnowledge"),label:"What is the level of your investment knowledge?",rules:{required:"Select option"},options:{keys:["Limited","Moderate","Extensive"]},componentProps:{classNames:{radioGroupStyles:"grid grid-cols-3 gap-[4px]"}},tags:["DATAB","KESTR"]},{fieldType:"radio",name:"applicant.".concat(a,".riskProfile.investmentHorizon"),label:"What is the your intended investment horizon",rules:{required:"Select option"},options:{keys:["Short Term (1 year)","Medium Term (2-5 years)","Long Term (5 years+)"]},componentProps:{classNames:{toggleStyles:"normal-case"}},tags:["KESTR"]},{fieldType:"radio",name:"applicant.".concat(a,".riskProfile.reaction"),label:"What would be your reaction if an investment you have invested in lost 10% of it's value in the first year?",rules:{required:"Select option"},options:{keys:["Extremely concerned; sell my investment","Concerned; consider selling my investment","Concerned; no consider selling my investment","Not overly concerned; I'm in it for the long term"]},tags:["DATAB","KESTR"]},{fieldType:"checkbox",name:"applicant.".concat(a,".riskProfile.sourceOfFunds"),label:"Source Of Funds",rules:{required:"Select option"},options:{keys:["Salaries/Wages","Proceeds from Business","Inheritance/Gifts","Sales of Assets","Personal Savings","Borrowings","Retirement"]}},{fieldType:"text",name:"applicant.".concat(a,".riskProfile.initialInvestmentAmount"),label:"Initial Investment Amount (".concat(t,")"),placeholder:"Enter initial investment amount",rules:{required:"Please enter amount",validate:e=>S().isCurrency(e)||"Amount must be a number"},componentProps:{isCurrency:!0}},{fieldType:"radio",name:"applicant.".concat(a,".riskProfile.topUpActivity.frequency"),label:"Anticipated Top Up Activity",rules:{required:"Select option"},options:{keys:["Monthly","Quarterly","Bi-Annually","Annually","Other"]},componentProps:{classNames:{radioGroupStyles:"grid grid-cols-2"},otherInputProps:{label:"Other? Specify",placeholder:"Enter other top up frequency"}}},{fieldType:"text",name:"applicant.".concat(a,".riskProfile.regularTopUpAmount"),label:"Expected Regular Top-up Amount ".concat(t&&"("+t+")"),placeholder:"Enter regular top-up amount",rules:{required:"Please enter amount",validate:e=>S().isCurrency(e)||"Amount must be a number"},componentProps:{isCurrency:!0}},{fieldType:"radio",name:"applicant.".concat(a,".riskProfile.withdrawalActivity.frequency"),label:"Anticipated Withdrawal Activity",rules:{required:"Select option"},options:{keys:["Monthly","Quarterly","Bi-Annually","Annually","Other"]},componentProps:{classNames:{radioGroupStyles:"grid grid-cols-2"},otherInputProps:{label:"Other? Specify",placeholder:"Enter other withdrawal frequency"}}},{fieldType:"text",name:"applicant.".concat(a,".riskProfile.regularWithdrawalAmount"),label:"Expected Regular Withdrawal Amount ".concat(t&&"("+t+")"),placeholder:"Enter regular withdrawal amount",rules:{required:"Please enter amount",validate:e=>S().isCurrency(e)||"Amount must be a number"},componentProps:{isCurrency:!0}},{fieldType:"radio",name:"applicant.".concat(a,".riskProfile.statements.deliveryMode"),label:"Mode of Statement Delivery",rules:{required:"Select mode of delivery"},options:{keys:["Email","Online","Collection at Branch"]},componentProps:{classNames:{toggleStyles:"paragraph1Regular text-[14px] truncate text-nowrap",radioGroupStyles:"grid grid-cols-3 gap-[4px]"}}},{fieldType:"radio",name:"applicant.".concat(a,".riskProfile.statement.frequency"),label:"Statement Frequency",rules:{required:"Select statement frequency"},options:{keys:["Semi-Annual","Annual","Monthly"]},componentProps:{classNames:{radioGroupStyles:"grid grid-cols-3 gap-[4px]",toggleStyles:"paragraph1Regular text-[14px] truncate text-nowrap"}}},{fieldType:"agreement",name:"applicant.".concat(a,".riskProfile.agreementOfTerms.agreed"),label:"I/We understand investing in equities/shares is inherently risker than investing in fixed income products or holding cash",rules:{required:"You must accept the above terms to continue"},componentProps:{agreementVersion:"1.0"}}]},e$=()=>{let{form:{getValues:e}}=(0,u.kC)(),a=e("applicant")||[{}];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.Mo,{children:[(0,n.jsx)(d.zE,{children:"Investment & Risk Profile"}),(0,n.jsx)(d.md,{children:"Complete your investment & risk profile."})]}),(0,n.jsx)(d.sf,{children:(0,n.jsx)("div",{className:"space-y-[8px] py-5",children:a.map((e,a)=>(0,n.jsx)(c.nD,{type:"single",defaultValue:"item-0",collapsible:!0,children:(0,n.jsxs)(c.As,{value:"item-".concat(a),children:[(0,n.jsxs)(c.$m,{children:["Applicant #",a+1,": ",e.firstName," ",e.lastName]}),(0,n.jsx)(c.ub,{className:"data-[state=closed]:hidden pb-10",forceMount:!0,children:(0,n.jsx)(eJ,{applicantId:a})})]})},e.id))})})]})};function eJ(e){let{applicantId:a}=e,{formVars:{brokerCode:t}}=(0,u.kC)(),l=(0,s.useMemo)(()=>{let e=eY({index:a,currency:eF.p[t]});return new v.C(e).generate()},[a,t]);return(0,n.jsx)(n.Fragment,{children:l.map(e=>(0,n.jsx)(m.A,{...e},e.name))})}let eX=()=>{let{form:{getValues:e},goToFormLocation:a}=(0,u.kC)(),t=(e("applicant")||[{}]).length,l=e=>{a("personal",e)},i=e=>({firstName:"applicant.".concat(e,".firstName"),lastName:"applicant.".concat(e,".lastName"),titlePrefix:"Applicant"});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.Mo,{children:[(0,n.jsx)(d.zE,{children:"Personal Information Summary"}),(0,n.jsx)(d.md,{children:"Review your submissions for any inaccuracies"})]}),(0,n.jsx)(d.sf,{className:"bg-white px-0 pt-0",children:(0,n.jsxs)("div",{className:"bg-neutral-50 space-y-[16px]",children:[(0,n.jsx)(Y.N,{sectionName:"Retail Client",accordionTitle:"Retail Client",editAction:l.bind(void 0,"retail client"),fieldModel:eN}),(0,n.jsx)(Y.N,{sectionName:"Category of Investment",accordionTitle:"Category of Investment",editAction:l.bind(void 0,"category of investment"),fieldModel:eS}),(0,n.jsx)(Y.N,{sectionName:"Personal Information",editAction:l.bind(void 0,"personal information_personal"),applicantCount:t,fieldModel:eP,accordionTitle:i}),(0,n.jsx)(Y.N,{sectionName:"Contact Information",editAction:l.bind(void 0,"contact details_personal"),applicantCount:t,fieldModel:eM,accordionTitle:i}),(0,n.jsx)(Y.N,{sectionName:"Employment Information",editAction:l.bind(void 0,"employment information"),applicantCount:t,fieldModel:eD,accordionTitle:i}),(0,n.jsx)(Y.N,{sectionName:"Settlement Bank Account",editAction:l.bind(void 0,"settlement bank account"),applicantCount:t,fieldModel:ez,accordionTitle:i}),(0,n.jsx)(Y.N,{sectionName:"Proof of Identity",editAction:l.bind(void 0,"proof of identity_personal"),applicantCount:t,fieldModel:eL,accordionTitle:i}),(0,n.jsx)(Y.N,{sectionName:"Investment & Risk Profile",editAction:l.bind(void 0,"investment & risk profile"),applicantCount:t,fieldModel:eY,accordionTitle:i})]})})]})},eQ=()=>{let{formNav:e}=(0,u.kC)(),a={"retail client":(0,n.jsx)(eE,{}),"category of investment":(0,n.jsx)(eC,{}),"personal information_personal":(0,n.jsx)(eI,{}),"contact details_personal":(0,n.jsx)(eO,{}),"employment information":(0,n.jsx)(eR,{}),"settlement bank account":(0,n.jsx)(eV,{}),"proof of identity_personal":(0,n.jsx)(eH,{}),"investment & risk profile":(0,n.jsx)(e$,{}),review_personal:(0,n.jsx)(eX,{})};return(0,n.jsx)(n.Fragment,{children:a[e.currentStep]})};var eZ=t(3934),e0=t(6340),e1=t(4335);function e2(){let e=(0,r.useRouter)(),a=(0,u.N5)(eA),{form:t,formVars:{clientID:l,submissionID:c},formNav:{currentStage:p},formAction:m,error:f,isLoading:h,toggleLoading:y,setError:x}=a,{formState:{isDirty:b},handleSubmit:g}=t;(0,e0.h)(b);let j={introduction:(0,n.jsx)(eZ.y,{}),personal:(0,n.jsx)(eQ,{}),"next of kin":(0,n.jsx)(ej,{}),disclosures:(0,n.jsx)(X,{}),"document checklist":(0,n.jsx)(en,{})},N=t.getValues("clientType");(0,s.useEffect)(()=>{"Individual"===N?m({type:"remove_step",stage:"disclosures",step:"signature mandate"}):m({type:"reset",stages:eA})},[N,m]);let v=async a=>{let t={clientID:l,submissionID:c,data:{...a}};y(!0);try{let a=await e1.A.post("/api/forms?form=individual",t);200===a.status&&"SUCC"===a.data.Status&&e.replace("/onboarding/verification?form=individual&metamap=".concat(a.data.link))}catch(e){console.log(e),x("Form submission failed. Please contact system admin!")}finally{y(!1)}};return f?(console.error(f),(0,n.jsx)("p",{className:"p-10",children:"Something went wrong! Please contact system admin"})):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i(),{children:(0,n.jsx)("title",{children:"SecondSTAX KYC - Individual or Joint"})}),(0,n.jsx)(u.jl.Provider,{value:a,children:(0,n.jsxs)(d.Hb,{children:[(0,n.jsx)(d.EN,{}),(0,n.jsx)(eG.A,{reveal:h}),(0,n.jsx)("div",{className:"relative w-full bg-neutral-50 flex justify-center overflow-auto h-full py-10",children:(0,n.jsx)(o.lV,{...t,children:(0,n.jsx)("form",{onSubmit:g(v),className:"w-full max-w-[44.75rem]",children:(0,n.jsxs)("div",{className:"w-full h-full flex flex-col rounded-xl",children:[j[p],(0,n.jsx)(d.v7,{})]})})})})]})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[648,376,538,426,267,536,659,399,785,636,593,792],()=>a(2296)),_N_E=e.O()}]);