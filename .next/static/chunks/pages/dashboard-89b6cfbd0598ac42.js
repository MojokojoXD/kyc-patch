(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{2733:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return a(7873)}])},3228:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s={src:"/_next/static/media/secondStax.6d6d3c99.webp",height:384,width:1307,blurDataURL:"data:image/webp;base64,UklGRoAAAABXRUJQVlA4WAoAAAAQAAAABwAAAQAAQUxQSBEAAAAANkooBAAJFRQ8SxwlIScjJQBWUDggSAAAAHACAJ0BKggAAgACQDglqAJ0ugDJAMkABI/XbQAA/voOlBqVYUHtn3sb0a54C2LjlEv5F/dWwr6TQDEX5cPypzd8g4SM/a5AAA==",blurWidth:8,blurHeight:2}},9529:(e,t,a)=>{"use strict";a.d(t,{W:()=>r});var s=a(6540);function r(e){let[t,a]=(0,s.useState)(),[r,l]=(0,s.useState)(!1),[n,i]=(0,s.useState)({flag:!1,message:""});return(0,s.useEffect)(()=>{let t=!1;return(async()=>{l(!0);try{let s=await e();t||(a(s),l(!1))}catch(e){"string"==typeof e&&i({flag:!0,message:e}),e instanceof Error&&i({flag:!0,message:e.message}),console.log(e)}})(),()=>{t=!0}},[e]),[t,r,n]}},7321:(e,t,a)=>{"use strict";a.d(t,{jl:()=>u,N5:()=>x,kC:()=>h});var s=a(6540);class r{push(e){this.stack.push(e)}pop(){if(0!==this.stack.length)return this.stack.pop()}peek(){if(0!==this.stack.length)return this.stack[this.stack.length-1]}size(){return this.stack.length}clear(){this.stack=[]}constructor(){this.stack=[]}}let l=new r,n=(e,t)=>{let{currentStage:a,currentStep:s,allStages:r}=e,n=r.findIndex(e=>e.name===a),i=r[n].steps,c=i.findIndex(e=>e===s);switch(t.type){case"next":{if(n===r.length-1&&c===i.length-1)return e;l.push({stage:a,step:s,shouldValidate:!1});let t=c===i.length-1?n+1:n,d=c===i.length-1?0:c+1;return{...e,currentStage:r[t].name,currentStep:r[t].steps[d]}}case"prev":{if(0===l.size())return e;let t=l.pop();return{...e,currentStage:t.stage,currentStep:t.step,shouldValidate:!1}}case"remove_step":{let s=[...r],l=s.findIndex(e=>e.name===t.stage);if(-1===l)throw Error("Stage "+a+" is not supported");let n=s[l].steps.filter(e=>e!==t.step);return s[l]={...s[l],steps:[...n]},{...e,allStages:s}}case"reset":return{...e,allStages:t.stages};case"jump_to_form_location":{var d,o,u;let n=null!==(o=t.toStage)&&void 0!==o?o:a,i=r.find(e=>e.name===n),c=null!==(u=t.toStep)&&void 0!==u?u:null==i?void 0:i.steps.at(0);if(!r.some(e=>e.name===n)||!c)return e;return l.push({stage:a,step:s,shouldValidate:!1}),{...e,currentStage:n,currentStep:c,shouldValidate:null===(d=t.payload)||void 0===d?void 0:d.shouldValidate}}default:throw Error("action type is not supported")}};var i=a(9785),c=a(6715),d=a(9529),o=a(5658);let u=(0,s.createContext)(null);function h(){let e=(0,s.useContext)(u);if(!e)throw Error("useKYCForm must be used within a KYC context");return e}let p=null,m=async()=>{null==p||p.call(void 0),p=null};function x(e,t){let[a,r]=(0,s.useState)(!0),[l,u]=(0,s.useState)(""),h=(0,i.mN)({mode:"onChange",...void 0!==t&&{defaultValues:t}}),[x,f]=(0,s.useReducer)(n,{currentStage:e[0].name,currentStep:e[0].steps[0],allStages:e}),[g,j,b]=(0,d.W)(o.j),v=(0,c.useRouter)(),N=v.query,y=(0,s.useCallback)(e=>r(e),[]),w=(0,s.useCallback)(e=>u(e),[]),C=e=>{p=e},_=(0,s.useCallback)(async()=>{await m(),await h.trigger(void 0,{shouldFocus:!0})&&f({type:"next"})},[h]),k=(0,s.useCallback)(async()=>{if(await m(),x.shouldValidate&&!await h.trigger(void 0,{shouldFocus:!0})){alert("To continue, please make sure all entries are valid!");return}f({type:"prev"})},[h,x.shouldValidate]),A=(0,s.useCallback)(async(e,t)=>{if(await m(),x.shouldValidate&&!await h.trigger(void 0,{shouldFocus:!0})){alert("To continue, please make sure all entries are valid!");return}f({type:"jump_to_form_location",toStage:e,toStep:t,payload:{shouldValidate:!0}})},[x,h]);return(0,s.useEffect)(()=>{v.isReady&&(N.c_id&&N.b_code&&N.submission||u("missing or malformed client ID or broker code"),r(!1))},[v,N]),(0,s.useMemo)(()=>{var e,t,s;return{formNav:x,formVars:{clientID:null!==(e=N.c_id)&&void 0!==e?e:"",brokerCode:null!==(t=N.b_code)&&void 0!==t?t:"",submissionID:null!==(s=N.submission)&&void 0!==s?s:"",countryList:null!=g?g:[[],[]]},formAction:f,form:h,toggleLoading:y,setError:w,isLoading:a||j,error:l||b.message,next:_,prev:k,onFormNav:C,goToFormLocation:A,actionBeforeFormNav:p}},[x,_,k,f,h,N,w,y,A,l,b,a,j,g])}},1325:(e,t,a)=>{"use strict";a.d(t,{k:()=>r});var s=a(4848);function r(e){let{headingText:t="",subText:a=""}=e;return(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center gap-[8px] w-full mb-[8px]",children:[(0,s.jsx)("span",{className:"mb-[8px]",children:(0,s.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"animate-[rtte_0.4s_ease-out]",children:[(0,s.jsxs)("g",{clipPath:"url(#clip0_400_1996)",children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M30.181 8.068C30.781 8.023 31.388 8 32 8C45.246 8 56 18.754 56 32C56 45.246 45.246 56 32 56C18.754 56 8 45.246 8 32C8 31.388 8.02299 30.781 8.06799 30.181C8.92399 40.71 17.751 49 28.5 49C39.814 49 49 39.814 49 28.5C49 17.751 40.71 8.924 30.181 8.068Z",fill:"#D1FEE8"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47.5564 47.5561C38.971 56.1415 25.0297 56.1415 16.4443 47.5561C7.85886 38.9707 7.85888 25.0294 16.4443 16.444C25.0297 7.85854 38.971 7.85853 47.5564 16.4439C54.3243 23.2118 55.7583 33.3076 51.8559 41.4848C51.3799 42.4819 51.8033 43.6758 52.7986 44.1518C53.7948 44.627 54.9904 44.2035 55.4656 43.2074C60.0765 33.5443 58.3836 21.6132 50.3854 13.615C40.2387 3.46826 23.762 3.46825 13.6153 13.6149C3.46858 23.7616 3.46859 40.2384 13.6153 50.3851C23.762 60.5318 40.2387 60.5318 50.3854 50.3851C51.166 49.6044 51.166 48.3367 50.3854 47.5561C49.6048 46.7754 48.3371 46.7754 47.5564 47.5561Z",fill:"#06BA63"}),(0,s.jsx)("g",{clipPath:"url(#clip1_400_1996)",className:"animate-[cm_0.3s_ease-out]",children:(0,s.jsx)("path",{d:"M38.7099 27.2099C38.617 27.1161 38.5064 27.0417 38.3845 26.991C38.2627 26.9402 38.132 26.9141 37.9999 26.9141C37.8679 26.9141 37.7372 26.9402 37.6154 26.991C37.4935 27.0417 37.3829 27.1161 37.29 27.2099L29.84 34.6699L26.7099 31.5299C26.6134 31.4366 26.4995 31.3633 26.3746 31.3141C26.2498 31.2649 26.1165 31.2408 25.9823 31.2431C25.8481 31.2454 25.7157 31.2741 25.5926 31.3276C25.4695 31.3811 25.3582 31.4583 25.2649 31.5549C25.1717 31.6514 25.0984 31.7653 25.0492 31.8902C25 32.015 24.9759 32.1484 24.9782 32.2825C24.9805 32.4167 25.0092 32.5491 25.0627 32.6722C25.1162 32.7953 25.1934 32.9066 25.2899 32.9999L29.13 36.8399C29.2229 36.9336 29.3335 37.008 29.4554 37.0588C29.5772 37.1095 29.7079 37.1357 29.84 37.1357C29.972 37.1357 30.1027 37.1095 30.2245 37.0588C30.3464 37.008 30.457 36.9336 30.55 36.8399L38.7099 28.6799C38.8115 28.5862 38.8925 28.4726 38.9479 28.3461C39.0033 28.2196 39.0319 28.083 39.0319 27.9449C39.0319 27.8068 39.0033 27.6702 38.9479 27.5437C38.8925 27.4172 38.8115 27.3035 38.7099 27.2099V27.2099Z",fill:"#06BA63"})})]}),(0,s.jsxs)("defs",{children:[(0,s.jsx)("clipPath",{id:"clip0_400_1996",children:(0,s.jsx)("rect",{width:"64",height:"64",fill:"white"})}),(0,s.jsx)("clipPath",{id:"clip1_400_1996",children:(0,s.jsx)("rect",{width:"24",height:"24",fill:"white",transform:"translate(20 20)"})})]})]})}),(0,s.jsxs)("div",{className:"space-y-[8px] text-neutral-700 text-center pb-[8px]",children:[(0,s.jsx)("p",{className:"paragraph3Medium",children:t}),(0,s.jsx)("p",{className:"paragraph2Regular",children:a})]})]})}},8043:(e,t,a)=>{"use strict";a.d(t,{$m:()=>o,As:()=>d,nD:()=>c,ub:()=>u});var s=a(4848),r=a(6540),l=a(2980),n=a(2027),i=a(6094);let c=l.bL,d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.q7,{ref:t,className:(0,i.cn)("",a),...r})});d.displayName="AccordionItem";let o=r.forwardRef((e,t)=>{let{className:a,children:r,...c}=e;return(0,s.jsx)(l.Y9,{className:"flex",children:(0,s.jsxs)(l.l9,{ref:t,className:(0,i.cn)("flex flex-1 items-center justify-between p-[16px] paragraph3Regular transition-all [&[data-state=open]>svg]:rotate-180 border data-[state=open]:rounded-t-lg data-[state=closed]:rounded-lg border-neutral-200 text-neutral-700 bg-neutral-50",a),...c,children:[r,(0,s.jsx)(n.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});o.displayName=l.l9.displayName;let u=r.forwardRef((e,t)=>{let{className:a,children:r,...n}=e;return(0,s.jsx)(l.UC,{ref:t,className:(0,i.cn)("overflow-hidden text-sm transition-all ease-linear data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down data-[state=open]:border-b data-[state=open]:border-x border-neutral-200 p-[24px] rounded-b-lg border-t-none",a),...n,children:(0,s.jsx)("div",{className:(0,i.cn)("space-y-[40px]"),children:r})})});u.displayName=l.UC.displayName},7873:(e,t,a)=>{"use strict";a.r(t),a.d(t,{__N_SSP:()=>tc,default:()=>td});var s=a(4848),r=a(6540),l=a(6829),n=a(6990),i=a(6897),c=a(6094);let d=l.bL;l.l9,l.bm;let o=l.ZL,u=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hJ,{className:(0,c.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});u.displayName=l.hJ.displayName;let h=(0,n.F)("fixed z-50 gap-4 bg-white p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-300 dark:bg-slate-950",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-md"}},defaultVariants:{side:"right"}}),p=r.forwardRef((e,t)=>{let{side:a="right",className:r,children:n,disableClose:d,...p}=e;return(0,s.jsxs)(o,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)(l.UC,{ref:t,className:(0,c.cn)(h({side:a}),r),...p,children:[n,!d&&(0,s.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 dark:ring-offset-slate-950 dark:focus:ring-slate-300 dark:data-[state=open]:bg-slate-800",children:[(0,s.jsx)(i.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});p.displayName=l.UC.displayName;let m=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,c.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};m.displayName="SheetHeader";let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hE,{ref:t,className:(0,c.cn)("text-lg font-semibold text-slate-950 dark:text-slate-50",a),...r})});x.displayName=l.hE.displayName;let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.VY,{ref:t,className:(0,c.cn)("text-sm text-slate-500 dark:text-slate-400",a),...r})});f.displayName=l.VY.displayName;var g=a(6977),j=a(4439),b=a(1325),v=a(2955),N=a(9529),y=a(5658),w=a(7761),C=a.n(w);let _=e=>{let{countryList:t=[]}=e;return[{fieldType:"text",name:"clientFirstName",label:"First Name",placeholder:"First name",rules:{required:"Please enter first name",minLength:{value:2,message:"Entry is too short"}}},{fieldType:"text",name:"clientLastName",label:"Last Name",placeholder:"Last name",rules:{required:"Please enter last name",minLength:{value:2,message:"Entry is too short"}}},{fieldType:"phone",name:"clientPhone",label:"Phone Number",placeholder:"Enter Phone Number",options:{keys:t[1],priorityKeys:t[0]},componentProps:{phoneMode:"single"}},{fieldType:"text",name:"clientEmail",label:"Email Address",placeholder:"Enter email address",rules:{required:"Please enter email address",validate:e=>"string"==typeof e&&C().isEmail(e)||"Email must be of the format: name@example.com"}},{fieldType:"radio",name:"typeOfClient",label:"Client Type",rules:{required:"Select client type"},options:{keys:["Individual or Joint","Corporate"]}}]};var k=a(4192);let A=(0,r.createContext)(null);function S(){let e=(0,r.useContext)(A);if(!e)throw Error("useSession can only be used within a session context provider");return e}var E=a(7321),L=a(2688);function R(){return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(L.E,{className:"bg-neutral-200 h-6"}),(0,s.jsx)(L.E,{className:"bg-neutral-200 h-6"}),(0,s.jsx)(L.E,{className:"bg-neutral-200 h-6"}),(0,s.jsx)(L.E,{className:"bg-neutral-200 h-6"})]})}var M=function(e){return e[e.Form=1]="Form",e[e.ClientAdded=2]="ClientAdded",e}(M||{});function P(e){var t;let{toggleSheet:a}=e,[l,n,i]=(0,N.W)(y.j),{profile:c,request:d}=S(),o={clientFirstName:"",clientLastName:"",clientEmail:"",clientPhone:[{value:"",countryCode:"GH"}],brokerID:null!==(t=null==c?void 0:c.broker_id)&&void 0!==t?t:"",typeOfClient:""},u=(0,E.N5)([{name:"add-client",steps:["add-client"]}],o),{form:h}=u,[p,m]=(0,r.useState)(!1),[x,f]=(0,r.useState)(""),[w,C]=(0,r.useState)(1),A=i.message||x,L=l?_({countryList:l}):[];if(A)return console.log(A),(0,s.jsx)("p",{className:"p-10",children:"Something went wrong!. Please try again later."});if(u.isLoading)return(0,s.jsx)(R,{});switch(w){case 1:return(0,s.jsxs)(s.Fragment,{children:[1===w&&(0,s.jsx)("p",{className:"paragraph2Medium absolute top-[32px]",children:"Add A New Client"}),(0,s.jsx)(E.jl.Provider,{value:u,children:(0,s.jsx)(j.lV,{...h,children:(0,s.jsx)("form",{onSubmit:h.handleSubmit(e=>{m(!0),d({url:"/kyc/broker/client",method:"POST",data:{...e,clientPhone:e.clientPhone[0].value,typeOfClient:"Individual or Joint"===e.typeOfClient?"Individual":e.typeOfClient}},function(e,t,a){"COMPLETED"===a&&(null==e?void 0:e.Status)==="SUCC"&&(C(2),m(!1)),"FAILED"===a&&(f(t),m(!1))})}),children:(0,s.jsxs)("div",{className:"space-y-[40px] relative w-full",children:[L.map(e=>(0,s.jsx)(k.A,{...e},e.name)),(0,s.jsx)(g.$,{className:"w-full",type:"submit",disabled:p||n,children:p?(0,s.jsx)(v.A,{className:"h-5 aspect-square ml-.5 animate-spin"}):"Confirm"})]})})})})]});case 2:return(0,s.jsxs)("div",{className:"flex flex-col flex-1 items-center w-full h-full",children:[(0,s.jsx)("div",{className:"flex flex-col flex-1 justify-center items-center",children:(0,s.jsx)(b.k,{headingText:"Client Added!"})}),(0,s.jsx)(g.$,{className:"w-full",onClick:()=>a(),children:"Sounds Good"})]});default:return null}}var D=a(9894);function z(e){let{}=e,[t,a]=(0,r.useState)(!1),l=(0,r.useCallback)(()=>a(e=>!e),[]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(g.$,{onClick:()=>l(),children:[(0,s.jsx)(D.A,{className:"h-[1.15rem] aspect-square"}),(0,s.jsx)("span",{children:"Add a Client"})]}),(0,s.jsx)(d,{onOpenChange:a,open:t,children:(0,s.jsxs)(p,{disableClose:!0,className:"p-0 pb-24",children:[(0,s.jsxs)(m,{className:"relative h-dashboard-header border-b border-neutral-100",children:[(0,s.jsx)(x,{className:"hidden"}),(0,s.jsx)(f,{className:"hidden"}),(0,s.jsx)(g.$,{variant:"ghost",size:"icon",className:"absolute right-[2rem] bottom-[1.5rem]",onClick:()=>l(),children:(0,s.jsx)(i.A,{})})]}),(0,s.jsx)("div",{className:"p-[32px] overflow-auto h-full",children:(0,s.jsx)(P,{toggleSheet:l})})]})})]})}var O=a(9823);let F=O.bL,T=O.l9,q=r.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:l=4,...n}=e;return(0,s.jsx)(O.ZL,{children:(0,s.jsx)(O.UC,{ref:t,align:r,sideOffset:l,className:(0,c.cn)("z-50 w-72 rounded-md border border-neutral-100 bg-white p-4 text-slate-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",a),...n})})});q.displayName=O.UC.displayName;var I=a(7364);function U(e){let{notifications:t}=e,a=t.length,r=a>0&&a<=9?a.toString():a>9?"9+":void 0;return(0,s.jsxs)(F,{children:[(0,s.jsx)(T,{asChild:!0,className:"px-0",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(g.$,{type:"button",variant:"ghost",size:"icon",children:(0,s.jsx)(I.A,{className:"h-6.5 aspect-square text-neutral-700"})}),r&&(0,s.jsx)("span",{className:"flex items-center justify-center bg-error-500 absolute top-[-0.125rem] -right-[.035rem] h-5 aspect-square rounded-full captionBook text-white",children:r})]})}),(0,s.jsx)(q,{align:"end",sideOffset:15,className:"w-[26.875rem] p-0 text-neutral-700",children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"h-12 paragraph2Medium py-3 px-4",children:0===t.length?"No notifications.":"Notifications."})})})]})}function V(e){let{}=e,[t]=(0,r.useState)([]);return(0,s.jsx)(U,{notifications:t})}var B=a(1106),$=a.n(B),Q=a(3228),G=a(9965),J=a.n(G),W=a(7273);function Y(e){let{className:t,children:a,...r}=e;return(0,s.jsx)("div",{className:(0,c.cn)("fixed top-0 z-10 inset-x-0 flex items-center justify-between h-dashboard-header p-x-dashboard py-[16px] border-b border-neutral-100 bg-white",t),...r,children:a})}function H(e){let{className:t,children:a,...r}=e;return(0,s.jsx)("div",{className:(0,c.cn)("flex items-center gap-6",t),...r,children:a})}function K(e){let{isRequesting:t}=e;return(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)($(),{href:"/",children:(0,s.jsx)(J(),{src:Q.A,height:150,width:150,priority:!0,alt:"ssx logo"})}),(0,s.jsx)(W.A,{className:(0,c.cn)("self-center animate-spin hidden text-neutral-700/50 h-5 aspect-square",t&&"block")})]})}function X(){return(0,s.jsx)("div",{className:"h-[40px] w-[1px] bg-neutral-100"})}var Z=a(1673);function ee(e){let{header:t,children:a,onDialogOpen:r,open:l,onContinue:n,syncing:i,hideCancelBtn:d=!1}=e;return(0,s.jsx)(Z.lG,{open:l,onOpenChange:r,children:(0,s.jsxs)(Z.Cf,{className:"space-y-6",children:[(0,s.jsxs)(Z.c7,{children:[(0,s.jsx)(Z.L3,{className:"capitalize",children:t}),(0,s.jsx)(Z.rr,{className:"hidden"})]}),(0,s.jsx)("div",{className:"flex items-center",children:a}),(0,s.jsxs)(Z.Es,{className:"grid grid-cols-2",children:[(0,s.jsx)("div",{children:(0,s.jsx)(g.$,{onClick:()=>r(!1),className:d?"hidden":"w-full",variant:"outline",children:"Cancel"})}),(0,s.jsx)("div",{children:(0,s.jsxs)(g.$,{onClick:()=>n(),className:"w-full",children:["Continue",(0,s.jsx)(v.A,{className:(0,c.cn)("animate-spin text-white hidden",i&&"block")})]})})]})]})})}var et=a(2027);function ea(e){let{src:t,fallback:a,isActive:r}=e,l="string"==typeof t&&URL.canParse(t)?t:void 0;return l||"string"!=typeof t||console.error("Avatar image source must be a valid URL"),(0,s.jsxs)("div",{className:"group flex items-center",children:[(0,s.jsx)("div",{className:"relative flex justify-center items-center h-10 aspect-square rounded-full bg-neutral-50 border border-neutral-100 group-hover:bg-neutral-100 transition-bg duration-150 ease-in-out",children:l?(0,s.jsx)(J(),{src:l,fill:!0,alt:"user profile avatar"}):a}),(0,s.jsx)(et.A,{className:(0,c.cn)("h-4 opacity-70 transition-all rotate-0",r&&"rotate-180")})]})}var es=a(9498);function er(){let{profile:e}=S();if(!e)return null;let{user_name:t,user_email:a,user_address:r,user_city:l,user_province:n,user_postcode:i,user_country:c,user_org_name:d,user_date_last_succ_login:o}=e,u=(0,es.GP)(e.user_date_created,"d MMM yyyy"),h=o?(0,es.GP)(o,"d MMM yyyy"):"",p="".concat(l,", ").concat(n," ").concat(i);return(0,s.jsxs)("div",{className:"space-y-6 h-full",children:[(0,s.jsxs)("div",{className:"border border-neutral-100 p-4 rounded-lg flex flex-cols justify-between gap-2",children:[(0,s.jsxs)("div",{className:"space-y-2 text-neutral-500 max-w-prose",children:[(0,s.jsx)("h2",{className:"paragraph2Medium text-neutral-700",children:t}),(0,s.jsx)("p",{className:"paragraph2Regular",children:a}),(0,s.jsxs)("p",{className:"paragraph2Regular",children:["Joined on ",u," "]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("span",{className:"flex justify-center items-center h-10 inline-block aspect-square rounded-md bg-primary-50 text-primary-500 paragraph2Medium border border-primary-100 cursor-default",children:t.split(" ").reduce((e,t)=>e[0]+t[0])})})]}),(0,s.jsxs)("div",{className:"border border-neutral-100 p-4 rounded-lg space-y-2 text-neutral-500",children:[(0,s.jsx)("h2",{className:"paragraph2Medium text-neutral-700",children:"Address"}),(0,s.jsx)("p",{className:"paragraph2Regular",children:r}),(0,s.jsx)("p",{className:"paragraph2Regular",children:p}),(0,s.jsx)("p",{className:"paragraph2Regular",children:c})]}),(0,s.jsxs)("div",{className:"border border-neutral-100 p-4 rounded-lg space-y-2 text-neutral-500",children:[(0,s.jsx)("h2",{className:"paragraph2Medium text-neutral-700",children:"Organization"}),(0,s.jsx)("p",{className:"paragraph2Regular capitalize",children:d.toLowerCase()})]}),(0,s.jsxs)("div",{className:"border border-neutral-100 p-4 rounded-lg space-y-2 text-neutral-500",children:[(0,s.jsx)("h2",{className:"paragraph2Medium text-neutral-700",children:"Last Successful Login"}),(0,s.jsx)("p",{className:"paragraph2Regular capitalize",children:h})]})]})}function el(e){let{open:t,onOpenChange:a}=e;return(0,s.jsx)(d,{open:t,onOpenChange:a,children:(0,s.jsxs)(p,{className:"p-0 text-neutral-700 grid grid-rows gap-0 pb-8",disableClose:!0,children:[(0,s.jsxs)(m,{className:"relative h-dashboard-header p-8 border-b border-neutral-100",children:[(0,s.jsx)(x,{className:"",children:"User Profile"}),(0,s.jsx)(f,{className:"hidden"}),(0,s.jsx)(g.$,{variant:"ghost",size:"icon",className:"absolute right-[2rem] bottom-[1.5rem]",onClick:()=>a(!1),children:(0,s.jsx)(i.A,{})})]}),(0,s.jsx)("div",{className:"p-8 h-full overflow-auto",style:{scrollbarWidth:"thin"},children:(0,s.jsx)(er,{})})]})})}var en=a(2276),ei=a(8453);function ec(e){let{children:t,className:a,icon:r,label:l,...n}=e,i="h-5 aspect-square";return(0,s.jsxs)("button",{className:(0,c.cn)("group w-full rounded-none bg-transparent paragraph2Medium capitalize text-neutral-700 flex justify-between items-center border-r border-white p-x-dashboard hover:bg-neutral-50 hover:text-primary-500 transition-[text_border] duration-150 ease-in-out hover:border-primary-500 h-12 px-3 py-4 overflow-hidden",a),...n,children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[r?(0,s.jsx)(r,{className:(0,c.cn)(i)}):(0,s.jsx)(en.A,{className:i}),(0,s.jsx)("span",{children:l})]}),(0,s.jsx)("span",{children:(0,s.jsx)(ei.A,{className:"h-4 aspect-square opacity-40 self-end"})})]})}var ed=a(6759),eo=a(7034);function eu(e){var t;let{}=e,{profile:a,logout:l,isRequesting:n}=S(),[i,c]=(0,r.useState)(!1),[d,o]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),p=null!==(t=null==a?void 0:a.user_name.split(" ").map(e=>e.charAt(0)).join(""))&&void 0!==t?t:"",m=()=>c(e=>!e);return(0,s.jsxs)("div",{className:"max-w-72",children:[(0,s.jsxs)(F,{open:i,onOpenChange:c,children:[(0,s.jsx)(T,{onClick:m,children:(0,s.jsx)(ea,{fallback:p,isActive:i})}),(0,s.jsxs)(q,{align:"end",sideOffset:15,className:"grid grid-row-[3.25rem] paragraph2Medium p-0 overflow-hidden text-neutral-700",children:[(0,s.jsx)("div",{className:"py-3 px-4",children:null==a?void 0:a.user_name}),(0,s.jsxs)("div",{onClick:()=>m(),children:[(0,s.jsx)(ec,{label:"my profile",icon:ed.A,onClick:()=>o(!0)}),(0,s.jsx)(ec,{label:"logout",icon:eo.A,onClick:()=>h(!0)})]})]})]}),(0,s.jsx)(el,{open:d,onOpenChange:o}),(0,s.jsx)(ee,{open:u,onDialogOpen:h,syncing:n,header:"logout",onContinue:async()=>await l(),children:"Are you sure you want to logout?"})]})}function eh(){let{isRequesting:e}=S();return(0,s.jsxs)(Y,{children:[(0,s.jsx)(K,{isRequesting:e}),(0,s.jsxs)(H,{children:[(0,s.jsx)(z,{}),(0,s.jsx)(X,{}),(0,s.jsx)(V,{}),(0,s.jsx)(eu,{})]})]})}var ep=a(613),em=a(5052);let ex=[{id:0,name:"metrics",displayName:"dashboard",icon:ep.A},{id:1,name:"clientele",displayName:"all clients",icon:em.A}];function ef(e){let{children:t,className:a,...r}=e;return(0,s.jsx)("div",{className:"relative h-screen bg-white grid pt-dashboard-header",children:(0,s.jsx)("div",{...r,className:(0,c.cn)("relative h-full grid grid-cols-[257px_1fr] overflow-hidden",a),children:t})})}function eg(e){let{renderPortal:t}=e,[a,l]=(0,r.useState)("metrics"),n=(0,r.useCallback)(e=>l(e),[]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"absolute left-0 h-full w-[257px] inset-y-0 bg-white border-r border-neutral-100 py-8",children:(0,s.jsx)("ul",{children:ex.map(e=>{let t=e.name===a;return(0,s.jsx)("li",{children:(0,s.jsxs)(g.$,{title:e.displayName,size:"lg",id:e.name,className:(0,c.cn)("group w-full rounded-none bg-transparent paragraph2Medium capitalize text-neutral-700 justify-between border-r border-white px-3 hover:bg-transparent hover:text-neutral-700/70 transition-[text_border_fill] duration-150 ease-in-out",t&&"text-primary-500 bg-neutral-50 border-primary-500 hover:text-primary-500/75 hover:border-primary-500/75"),onClick:e=>l(e.currentTarget.id),children:[(0,s.jsxs)("span",{className:"flex items-center space-x-4",children:[(0,s.jsx)(e.icon,{className:(0,c.cn)("h-5 aspect-square",t&&"")}),(0,s.jsx)("span",{children:e.displayName})]}),(0,s.jsx)("span",{children:(0,s.jsx)(ei.A,{className:"h-4 aspect-square opacity-40"})})]})},e.id)})})}),(0,s.jsx)("div",{className:"relative col-span-full col-start-2 overflow-auto",children:(0,s.jsx)("div",{className:"h-full",children:t(a,n)})})]})}function ej(e){var t;let{current:a,children:r}=e,l=null!==(t=r.find(e=>e.props.name===a))&&void 0!==t?t:null;return(0,s.jsx)("div",{className:"p-[32px] space-y-[16px] text-neutral-700 h-fit max-w-screen-2xl w-full mx-auto",children:l})}function eb(e){let{children:t}=e;return(0,s.jsx)(s.Fragment,{children:t})}function ev(e){let{children:t,...a}=e;return(0,s.jsx)("div",{...a,children:t})}function eN(e){let{children:t,...a}=e;return(0,s.jsx)("div",{...a,children:t})}function ey(e){let{children:t,...a}=e;return(0,s.jsx)("div",{...a,children:t})}let ew=(0,n.F)("flex justify-center items-center text-center p-[8px] rounded-[4px] capitalize captionBook",{variants:{status:{default:"bg-neutral-50 text-neutral-900",warning:"bg-neutral-50 text-warning-500",primary:"bg-neutral-50 text-primary-500",neutral:"bg-neutral-50 text-neutral-500",success:"bg-neutral-50 text-success-500",error:"bg-neutral-50 text-error-500",initiated:"bg-neutral-100 text-neutral-700","in-progress":"bg-warning-50 text-warning-700 border border-warning-100",pending:"bg-neutral-400 text-neutral-900",approved:"bg-neutral-50 text-primary-500",uploaded:"bg-neutral-100 text-success-700",denied:"bg-neutral-100 text-error-700",completed:"bg-success-100 text-neutral-700",cancelled:"bg-neutral-50 text-error-500",unknown:"text-warning-700 bg-warning-100"},size:{sm:"w-[130px]",lg:"w-full h-[45px] font-medium"}},defaultVariants:{status:"initiated",size:"sm"}});function eC(e){let{status:t,label:a,size:r}=e;return(0,s.jsx)("span",{className:(0,c.cn)(ew({status:t,size:r})),children:a})}function e_(e){let{status:t,amount:a}=e;return(0,s.jsx)("div",{className:"p-[16px] border border-neutral-100 rounded-lg",children:(0,s.jsxs)("div",{className:"pt-[16px]",children:[(0,s.jsx)("h2",{className:"heading3Bold",children:a}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"capitalize paragraph2Regular text-neutral-600",children:t}),(0,s.jsx)(eC,{status:"initiated",label:t})]})]})})}var ek=a(8466);function eA(e){let{onPortalChange:t}=e,{request:a}=S(),[l,n]=(0,r.useState)([]),[i,c]=(0,r.useState)(null),[d,o]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{a({url:"/kyc/dashboard/metrics",method:"GET"},function(e,t,a){if("COMPLETED"===a){n([...e.metrics]),o(!1);return}t&&"FAILED"===a&&c(t),o(!1)})},[a]),i)?(console.error(i),(0,s.jsx)("p",{className:"p-10",children:"Something went wrong. Please try again later!"})):(0,s.jsxs)("div",{className:"bg-white p-8 space-y-4 rounded-lg h-full",children:[(0,s.jsx)(ek.A,{absolute:!0,reveal:d}),(0,s.jsxs)(ev,{className:"flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"heading6Bold",children:"Applications Stats by Status"}),(0,s.jsx)(g.$,{variant:"outline",onClick:t.bind(this,"clientele"),children:"View Applications"})]}),(0,s.jsx)(eN,{className:"grid grid-cols-2 gap-[16px]",children:l.map(e=>(0,s.jsx)("div",{children:(0,s.jsx)(e_,{status:e.status.toLowerCase(),amount:e.nbr})},e.status))})]})}var eS=a(53),eE=a(9893);function eL(e){let{onChange:t,placeholder:a="Search"}=e,[l,n]=(0,r.useState)(!1),i=(0,r.useRef)(null);return(0,r.useEffect)(()=>{let e;let a=i.current,s=a=>{n(!0),clearTimeout(e),e=setTimeout(()=>{t(a.target.value),n(!1)},500)};return a.addEventListener("keyup",s),()=>{a.removeEventListener("keyup",s),clearTimeout(e)}},[t]),(0,s.jsxs)("span",{className:"relative flex items-center w-full max-w-[271px]",children:[(0,s.jsx)(eS.p,{ref:i,placeholder:a,className:"w-full pl-4 pr-10 peer focus-visible:border-primary-500 placeholder:text-sm placeholder:text-neutral-400"}),(0,s.jsx)("span",{className:"absolute right-4 text-neutral-300 peer-focus:text-primary-500 peer-hover:text-primary-300",children:l?(0,s.jsx)(v.A,{className:"h-5 aspect-square animate-spin"}):(0,s.jsx)(eE.A,{className:"h-5 aspect-square"})})]})}function eR(e){let{children:t,className:a,...r}=e;return(0,s.jsx)("table",{className:(0,c.cn)("w-full border-separate border-spacing-x-0 border-spacing-y-2 table-fixed",a),...r,children:t})}function eM(e){let{children:t,className:a,...r}=e;return(0,s.jsx)("thead",{className:(0,c.cn)("text-neutral-50 capitalize paragraph2Medium",a),...r,children:t})}function eP(e){let{children:t,...a}=e;return(0,s.jsx)("tbody",{...a,children:t})}function eD(e){let{children:t,className:a,...r}=e;return(0,s.jsx)("tr",{className:(0,c.cn)("h-[66px]",a),...r,children:t})}function ez(e){let{data:t,className:a,...r}=e;return(0,s.jsx)("th",{className:(0,c.cn)("first:rounded-s-[8px] last:rounded-e-[8px] bg-gradient-to-b from-neutral-800 to-neutral-900 px-4 text-left",a),...r,children:t})}function eO(e){let{children:t,className:a,...r}=e;return(0,s.jsx)("td",{className:(0,c.cn)("first:rounded-s-[8px] last:rounded-e-[8px] first:border-l last:border-r h-12 px-4 paragraph2Regular bg-neutral-50 border-y border-neutral-100 bg-white text-ellipsis overflow-hidden text-nowrap",a),...r,children:t})}var eF=a(8867);let eT=eF.bL,eq=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(eF.B8,{ref:t,className:(0,c.cn)("inline-flex h-10 items-center justify-center rounded-md bg-slate-100 p-1 text-slate-500 dark:bg-slate-800 dark:text-slate-400",a),...r})});eq.displayName=eF.B8.displayName;let eI=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(eF.l9,{ref:t,className:(0,c.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-slate-950 data-[state=active]:shadow-sm dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300 dark:data-[state=active]:bg-slate-950 dark:data-[state=active]:text-slate-50",a),...r})});eI.displayName=eF.l9.displayName;let eU=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(eF.UC,{ref:t,className:(0,c.cn)("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",a),...r})});function eV(e){let{description:t,variant:a="default",reference:r="",user:l="false",timestamp:n="",jsxCode:i}=e;return(0,s.jsxs)("div",{className:"relative p-[8px_16px_40px_16px] w-full",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:(0,c.cn)("absolute h-full border-l left-0","default"===a?"border-success-500":"border-neutral-300")}),(0,s.jsx)("div",{className:(0,c.cn)("absolute h-[8px] w-[8px] rounded-full top-[8px] left-[-3px]","default"===a?"bg-success-500":"bg-neutral-300")})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-[4px] text-neutral-600 text-[14px]",children:[n&&(0,s.jsx)("p",{className:"captionBook",children:n}),l&&(0,s.jsxs)("p",{className:"captionBook",children:["User: ",l]}),(0,s.jsx)("p",{className:"log-description paragraph2Medium text-neutral-700",children:t}),r&&(0,s.jsxs)("p",{className:"paragraph1Regular",children:["Reference: ",r]}),i&&(0,s.jsx)(s.Fragment,{children:i})]})]})}function eB(e){let{logs:t}=e;return t&&t.length>0?t.map(e=>(0,s.jsx)(eV,{description:e.aud_frm_act_code,timestamp:(0,es.GP)(new Date(e.aud_time),"dd MMM yyyy, k:mm aaa"),user:e.aud_usr_id},e.aud_id)):(0,s.jsx)("span",{className:"text-sm font-medium opacity-70",children:"No logs"})}eU.displayName=eF.UC.displayName;var e$=a(3427);function eQ(e){let{client_first_name:t,client_last_name:a,type_of_client:r,client_phone:l,client_email:n,date_created:i}=e,c=(0,es.GP)(new Date(i),"do MMM yyyy"),d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,s.jsxs)("div",{className:"space-y-[8px]",children:[(0,s.jsx)(e$.J,{className:"paragraph2Regular capitalize",htmlFor:e,children:e.split("_").join(" ")}),(0,s.jsx)(eS.p,{id:e,readOnly:!0,value:null!=t?t:"",className:"bg-neutral-50 text-neutral-500 paragraph2Regular border border-neutral-100 hover:border-inherit focus-visible:border-inherit"})]})};return(0,s.jsxs)(s.Fragment,{children:[d("name","".concat(t," ").concat(a)),d("client_type",r),d("phone_number",l),d("email_address",n),d("date_added",c)]})}var eG=a(8043);let eJ={STARTED:"initiated",SUBMITTED:"in-progress",COMPLETED:"completed",UNKNOWN:"unknown"},eW={"IN PROGRESS":"in-progress",VERIFIED:"completed"};function eY(e){let{clientVerifications:t}=e,a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,s.jsxs)("div",{className:"space-y-[8px]",children:[(0,s.jsx)(e$.J,{className:"paragraph2Medium capitalize",htmlFor:e,children:e.split("_").join(" ")}),(0,s.jsx)(eS.p,{id:e,readOnly:!0,value:t,className:"bg-neutral-50 text-neutral-500 paragraph2Regular border border-neutral-100 hover:border-inherit focus-visible:border-inherit"})]})};return t.map((e,t)=>(0,s.jsx)(eG.nD,{defaultValue:e.signatory_id,type:"single",collapsible:!0,children:(0,s.jsxs)(eG.As,{value:e.signatory_id,children:[(0,s.jsxs)(eG.$m,{className:"paragraph1Regular",children:["Signatory #",t+1]}),(0,s.jsxs)(eG.ub,{className:"",children:[a("name",e.signatory_name),a("email",e.signatory_email),(0,s.jsx)(eC,{label:e.status,status:eW[e.status.toLocaleUpperCase()],size:"lg"})]})]})},e.signatory_id))}var eH=a(6802),eK=a(7216);function eX(e){let{verifications:t,...a}=e,[l,n]=(0,r.useState)("client_bio");return(0,s.jsxs)("div",{className:"space-y-[40px] pb-[40px]",children:[(0,s.jsx)("div",{className:"absolute top-[28px]",children:"client_bio"===l?(0,s.jsxs)("p",{className:"inline-block paragraph2Medium capitalize",children:["".concat(a.client_first_name," ").concat(a.client_last_name)," ",(0,s.jsx)(eH.A,{className:"inline"})," ",a.type_of_client]}):(0,s.jsx)(g.$,{variant:"ghost",size:"icon",onClick:()=>n("client_bio"),children:(0,s.jsx)(eK.A,{className:"h-5 aspect-square"})})}),"client_bio"===l?(0,s.jsx)(eQ,{...a}):(0,s.jsx)(eY,{clientVerifications:t}),(0,s.jsx)("hr",{className:"border-neutral-200"}),t.length>0&&"client_bio"===l&&(0,s.jsx)(g.$,{variant:"outline",className:"w-full",onClick:()=>n("verifications"),children:"View Signatories"})]})}function eZ(e){let{client:t}=e,{logs:a,...r}=t,l="data-[state=active]:bg-neutral-100 data-[state=active]:border-b paragraph2Medium rounded-none py-4 border-neutral-700 w-full ";return(0,s.jsxs)(eT,{defaultValue:"client details",className:"w-full text-neutral-700 space-y-[40px] h-full",children:[(0,s.jsxs)(eq,{className:"w-full border-b border-neutral-100 h-12 px-0",children:[(0,s.jsx)(eI,{value:"client details",className:l,children:"Client Details"}),(0,s.jsx)(eI,{value:"logs",className:l,children:"Logs"})]}),(0,s.jsx)(eU,{value:"client details",children:(0,s.jsx)(eX,{...r})}),(0,s.jsx)(eU,{value:"logs",children:(0,s.jsx)(eB,{logs:a})})]})}function e0(e){let{open:t,client:a,onSheetChange:r}=e;if(!a)return null;let{status:l}=a;return(0,s.jsx)(d,{open:t,onOpenChange:r,children:(0,s.jsxs)(p,{side:"right",disableClose:!0,className:"p-0 pb-24",children:[(0,s.jsxs)(m,{className:"relative h-dashboard-header p-[32px] border-b border-neutral-100 flex items-center",children:[(0,s.jsx)(x,{className:"hidden"}),(0,s.jsx)(f,{className:"hidden"}),(0,s.jsx)(g.$,{variant:"ghost",size:"icon",className:"absolute right-[2rem] bottom-[1.5rem]",onClick:()=>r(!1),children:(0,s.jsx)(i.A,{})})]}),(0,s.jsxs)("div",{className:"p-[32px] space-y-[24px] h-full overflow-auto",style:{scrollbarWidth:"thin"},children:[(0,s.jsx)(eC,{label:l.toLowerCase(),size:"lg",status:eJ[l.toUpperCase()]}),(0,s.jsx)(eZ,{client:a})]})]})})}function e1(e){let{data:t,headerLabels:a}=e,{request:l,isRequesting:n}=S(),[i,c]=(0,r.useState)(!1),[d,o]=(0,r.useState)(),u=(0,r.useCallback)(e=>c(e),[]),h=(0,r.useCallback)(e=>new Promise((t,a)=>{e||t(null),l({url:"/kyc/dashboard/".concat(e),method:"GET"},function(e,s,r){"COMPLETED"===r&&t(e),"FAILED"===r&&a(s)})}),[l]),p=(0,r.useCallback)(async e=>{var t,a;if(!e&&!n)return;let s=await h(null==e?void 0:e.client_id);c(!0),o({...e,logs:null!==(t=null==s?void 0:s.data)&&void 0!==t?t:[],verifications:null!==(a=null==s?void 0:s.verifications)&&void 0!==a?a:[]})},[h,n]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e0,{open:i,onSheetChange:u,client:d}),(0,s.jsxs)(eR,{children:[(0,s.jsx)(eM,{children:(0,s.jsx)(eD,{children:a.map(e=>(0,s.jsx)(ez,{data:e},e))})}),(0,s.jsxs)(eP,{children:[0===t.length&&(0,s.jsxs)(eD,{children:[(0,s.jsx)(eO,{className:"text-neutral-700/50",children:n?"loading...":"No match"}),(0,s.jsx)(eO,{}),(0,s.jsx)(eO,{}),(0,s.jsx)(eO,{}),(0,s.jsx)(eO,{})]}),t.map(e=>e.client_first_name&&e.client_first_name&&e.broker?(0,s.jsxs)(eD,{className:"cursor-pointer  scale-100 transition-transform duration-150 ease-in-out active:scale-[0.99]",onClick:()=>p(e),children:[(0,s.jsxs)(eO,{className:"capitalize",children:[e.client_first_name," ",e.client_last_name]}),(0,s.jsx)(eO,{children:e.type_of_client}),(0,s.jsx)(eO,{children:e.client_email}),(0,s.jsx)(eO,{className:" capitalize",children:e.broker.toLowerCase()}),(0,s.jsx)(eO,{children:(0,s.jsxs)("span",{className:"flex justify-between items-center",children:[(0,s.jsx)(eC,{label:e.status.toLowerCase(),status:eJ[e.status.toUpperCase()]}),(0,s.jsx)(ei.A,{className:"h-4 opacity-40 group-hover:text-primary-7 transition-opacity duration-150 ease-in-out00"})]})})]},e.client_id):(0,s.jsx)(s.Fragment,{}))]})]})]})}var e2=a(8898);let e5=(e,t)=>Array.from({length:t-e+1},(t,a)=>a+e);function e3(e){let{onPageChange:t,siblingCount:a=1,...l}=e,n=function(e){let{totalDataCount:t,maxDataPerPage:a,siblingCount:s=1,currentPage:l}=e;return(0,r.useMemo)(()=>{let e="dots",r=Math.ceil(t/a);if(s+5>=r)return e5(1,r);let n=Math.max(l-s,1),i=Math.min(l+s,r),c=n>2,d=i<r-2;return!c&&d?[...e5(1,3+2*s),e,r]:c&&!d?[1,e,...e5(r-(3+2*s)+1,r)]:c&&d?[1,e,...e5(n,i),e,r]:void 0},[t,a,s,l])}({siblingCount:a,...l});if(0===l.currentPage||n&&n.length<2||!n)return null;let i={variant:"ghost",size:"icon",className:"bg-white"},d=e=>"number"==typeof e&&t(e);return(0,s.jsxs)("ul",{className:"flex space-x-[4px]",children:[(0,s.jsx)("li",{children:(0,s.jsx)(g.$,{onClick:()=>t(l.currentPage-1),...i,disabled:1===l.currentPage,children:(0,s.jsx)(e2.A,{className:"h-5"})})}),n&&n.map((e,t)=>(0,s.jsx)(g.$,{...i,onClick:()=>d(e),className:(0,c.cn)(i.className,e===l.currentPage&&"border border-primary-500 text-primary-500"),children:"number"==typeof e?e:"..."},"string"==typeof e?e+t:e)),(0,s.jsx)("li",{children:(0,s.jsx)(g.$,{...i,onClick:()=>t(l.currentPage+1),disabled:l.currentPage===n[(null==n?void 0:n.length)-1],children:(0,s.jsx)(ei.A,{className:"h-5"})})})]})}var e4=a(4481),e9=a(4667);let e8=[{value:"client_first_name",label:"first name"},{value:"client_last_name",label:"last name"},{value:"status",label:"status"},{value:"client_email",label:"email"},{value:"date_created",label:"date"}];function e6(){var e;let[t,a]=(0,r.useState)([]),[l,n]=(0,r.useState)(""),[i,c]=(0,r.useState)("date_created"),[d,o]=(0,r.useState)(null),[u,h]=(0,r.useState)(1),{request:p}=S(),m=(e=["client_email","client_first_name","client_last_name","broker","status","type_of_client"],(0,r.useMemo)(()=>0!==e.length&&l?t.filter(t=>{let a=!1;for(let s of e){let e=e9.k.recursiveObjectSearch(s,t);if("string"==typeof e&&(a=new RegExp(l.toLowerCase()).test(e.toLowerCase())))break}return a}):t,[l,t,e])),x=(0,r.useMemo)(()=>i?m.sort((e,t)=>{let a=e9.k.recursiveObjectSearch(i,e),s=e9.k.recursiveObjectSearch(i,t);if(!a||!s)return 0;switch(typeof a){case"number":return a-s;case"string":if(!Number.isNaN(Date.parse(a)))return Date.parse(s)-Date.parse(a);return a.toLowerCase().localeCompare(s);default:throw Error("Cannot sort the property "+i+" in input collection")}}):m,[i,m]),f=(0,r.useMemo)(()=>{if(i||!i){let e=(u-1)*10;return x.slice(e,e+10)}},[u,x,i]);(0,r.useEffect)(()=>{p({url:"/kyc/dashboard/getall",method:"GET"},function(e,t,s){if("COMPLETED"===s){a(e.all_trans.filter(e=>e.client_first_name&&e.client_last_name));return}"FAILED"===s&&o(t)})},[p]);let g=(0,r.useCallback)(e=>h(e),[]),j=(0,r.useCallback)(e=>c(e),[]);return d?(console.error(d),(0,s.jsx)("p",{className:"p-10",children:"Something went wrong. Please try again later!"})):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(ev,{className:"flex justify-between items-center",children:[(0,s.jsx)("h1",{className:"heading6Bold",children:"All Clients"}),(0,s.jsxs)("div",{className:"flex justify-end space-x-4 w-4/6",children:[(0,s.jsx)("div",{className:"w-full max-w-[271px]",children:(0,s.jsxs)(e4.l6,{value:i,onValueChange:j,children:[(0,s.jsx)(e4.bq,{className:"w-full flex-none text-sm",children:(0,s.jsxs)("span",{children:["Sort by"," ",(0,s.jsx)("span",{className:"capitalize",children:(0,s.jsx)(e4.yv,{})})]})}),(0,s.jsx)(e4.gC,{children:e8.map(e=>(0,s.jsx)(e4.eb,{value:e.value,className:"text-sm pl-2",children:e.label},e.value))})]})}),(0,s.jsx)(eL,{placeholder:"Search by Name,Type,Email...",onChange:e=>{h(1),n(e)}})]})]}),(0,s.jsx)(eN,{children:(0,s.jsx)(e1,{headerLabels:["client name","client type","email address","broker","status"],data:f})}),(0,s.jsx)(ey,{className:"flex justify-end",children:(0,s.jsx)(e3,{onPageChange:g,totalDataCount:m.length,currentPage:u,maxDataPerPage:10,siblingCount:2})})]})}function e7(){return(0,s.jsx)(ef,{children:(0,s.jsx)(eg,{renderPortal:(e,t)=>(0,s.jsxs)(ej,{current:e,children:[(0,s.jsx)(eb,{name:"metrics",children:(0,s.jsx)(eA,{onPortalChange:t})}),(0,s.jsx)(eb,{name:"clientele",children:(0,s.jsx)(e6,{})})]})})})}var te=a(6715),tt=a(3110),ta=a(8026);let ts=a(4335).A.create({baseURL:ta.C,withCredentials:!0,validateStatus:e=>200===e||401===e||304===e,timeout:3e4,headers:{"Content-Type":"application/json"},timeoutErrorMessage:"Request failed because the connection timed out. Check you internet connection."});class tr{enqueue(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];this.jobsQueue.push(...t)}dequeue(){this.jobsQueue.shift()}async request(e,t){t(null,null,"PROCESSING");let{url:a,method:s,data:r}=e;try{let e=await ts({url:"/api/dashboard/proxy"+a,baseURL:"",method:s,...r&&{data:r}});if(200===e.status||304===e.status){t(e.data,null,"COMPLETED");return}return t(null,e.statusText,"FAILED"),!0}catch(e){e instanceof tt.pe&&t(null,e.message,"FAILED"),console.log(e)}}async process(){for(;this.jobsQueue.length>0;){if(await this.request(this.jobsQueue[0].job,this.jobsQueue[0].feedback))return!1;this.dequeue()}return!0}constructor(){this.jobsQueue=[]}}function tl(e){let{children:t,profile:a}=e,l=(0,te.useRouter)(),[n,i]=(0,r.useState)(!0),[c,d]=(0,r.useState)(null),o=(0,r.useCallback)((e,t)=>{d(a=>a?(a.push({job:e,feedback:t}),a):[{job:e,feedback:t}])},[]),u=(0,r.useCallback)(async()=>{try{let e=await ts.post("/api/dashboard/logout",{},{baseURL:""});200===e.status&&l.replace("/")}catch(e){console.log(e)}},[l]);(0,r.useEffect)(()=>{(async()=>{if(c&&c.length>0){i(!0);let e=new tr;e.enqueue(...c),await e.process()||u(),d(null),i(!1)}})()},[c,u]);let h=(0,r.useMemo)(()=>({profile:a,isRequesting:n,request:o,logout:u}),[a,n,o,u]);return(0,s.jsx)(A.Provider,{value:h,children:t})}var tn=a(7087);function ti(){let{logout:e}=S(),[t,a]=(0,r.useState)(!1),[l,n]=(0,r.useState)(0),{getRemainingTime:i,activate:c}=(0,tn.hb)({onPrompt:()=>a(!0),onActive:()=>a(!1),onIdle:()=>e(),timeout:3e5,promptBeforeIdle:3e4,throttle:500});return(0,r.useEffect)(()=>{let e=setInterval(()=>{n(Math.ceil(i()/1e3))},1e3);return()=>clearInterval(e)}),(0,s.jsxs)(ee,{onContinue:()=>c(),open:t,onDialogOpen:a,header:"Still there?",hideCancelBtn:!0,children:["Inactivity detected. You'll be logged out in ",l," second(s)"]})}var tc=!0;let td=e=>(0,s.jsxs)(tl,{...e,children:[(0,s.jsx)(ti,{}),(0,s.jsx)(eh,{}),(0,s.jsx)(e7,{})]})},5658:(e,t,a)=>{"use strict";a.d(t,{j:()=>l});var s=a(4335);let r=["GH","NG","KE"],l=async()=>{try{let e=await s.A.get("/api/get-country-list"),t=e.data.data.filter(e=>r.includes(e.cty_code)),a=e.data.data.filter(e=>!r.includes(e.cty_code));return[t,a]}catch(e){return console.log(e),[[],[]]}}}},e=>{var t=t=>e(e.s=t);e.O(0,[648,376,538,106,426,457,536,399,636,593,792],()=>t(2733)),_N_E=e.O()}]);